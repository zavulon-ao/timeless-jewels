var Fl=Object.defineProperty;var Hl=(t,e,l)=>e in t?Fl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var Ee=(t,e,l)=>(Hl(t,typeof e!="symbol"?e+"":e,l),l);import{s as nt,r as vt,f as P,a as V,g as z,h as D,d as S,c as J,j as C,k as Ye,i as j,D as R,H as Et,I as Te,u as bt,v as wt,w as St,F as xe,J as Kl,o as Ot,K as Dt,L as Yl,M as Y,p as Ze,y as Qe,N as Al,e as we,A as Rl,z as w,l as X,x as ge,m as G,n as Re,G as st,E as $e,O as _e,B as kt,C as et,P as jt,Q as Vt}from"../chunks/scheduler.a4661fe7.js";import{S as it,i as at,a as U,t as H,g as Ve,c as Je,b as qe,d as Ue,m as Be,e as Fe,f as It}from"../chunks/index.0ccbc0e6.js";import{e as Le,u as Xl,o as Gl,g as Wl,S as ft}from"../chunks/navigation.79808793.js";import{r as Ql,h as Zl}from"../chunks/singletons.46dbe739.js";import{b as xl,a as Xe,d as Lt,t as Jt,c as lt,o as qt,e as Tt,f as Ut,i as Bt,g as Ft,h as $l,j as Ht,k as Pl,m as ct,n as es,s as ts,p as ls}from"../chunks/worker.dcb20a91.js";import{c as zl,d as se}from"../chunks/index.098253ec.js";import{p as ss}from"../chunks/stores.08251080.js";const Ml=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;class ns{constructor(){Ee(this,"currentLayerId");Ee(this,"setups");Ee(this,"renderers");Ee(this,"dispatchers");Ee(this,"needsSetup");Ee(this,"needsRedraw");Ee(this,"context");Ee(this,"width");Ee(this,"height");Ee(this,"autoclear");Ee(this,"pixelRatio");Ee(this,"renderLoop");Ee(this,"layerObserver");Ee(this,"layerRef");Ee(this,"layerSequence");Ee(this,"renderingLayerId");Ee(this,"activeLayerId");Ee(this,"activeLayerDispatcher");this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.getRenderingLayerId=this.getRenderingLayerId.bind(this),this.currentLayerId=1,this.setups=new Map,this.renderers=new Map,this.dispatchers=new Map,this.needsSetup=!1,this.needsRedraw=!0,this.renderingLayerId=0,this.activeLayerId=0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}register({setup:e,render:l,dispatcher:s}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,l),this.dispatchers.set(this.currentLayerId,s),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.dispatchers.delete(e),this.needsRedraw=!0}setup(e,l){this.context=e,this.layerRef=l,this.observeLayerSequence(),this.startRenderLoop()}observeLayerSequence(){this.layerObserver=new MutationObserver(this.getLayerSequence.bind(this)),this.layerObserver.observe(this.layerRef,{childList:!0}),this.getLayerSequence()}getLayerSequence(){const e=[...this.layerRef.children];this.layerSequence=e.map(l=>+(l.dataset.layerId??-1)),this.redraw()}startRenderLoop(){this.render(),this.renderLoop=requestAnimationFrame(()=>this.startRenderLoop())}render(){var n;const e=this.context,l=this.width,s=this.height,i=this.pixelRatio;if(this.needsSetup){for(const[a,f]of this.setups)f({context:e,width:l,height:s}),this.setups.delete(a);this.needsSetup=!1}if(this.needsRedraw){e.setTransform(i,0,0,i,0,0),this.autoclear&&e.clearRect(0,0,l,s);for(const a of this.layerSequence)this.renderingLayerId=a,(n=this.renderers.get(a))==null||n({context:e,width:l,height:s});this.needsRedraw=!1}}setActiveLayer(e,l){this.activeLayerId!==e&&(l instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerleave",l)),this.dispatchLayerEvent(new MouseEvent("mouseleave",l))),this.activeLayerId=e,this.activeLayerDispatcher=this.dispatchers.get(e),l instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerenter",l)),this.dispatchLayerEvent(new MouseEvent("mouseenter",l))))}dispatchLayerEvent(e){if(this.activeLayerDispatcher){if(window.TouchEvent&&e instanceof TouchEvent){const{left:l,top:s}=e.target.getBoundingClientRect(),{clientX:i,clientY:n}=e.changedTouches[0],a={x:i-l,y:n-s,originalEvent:e};this.activeLayerDispatcher(e.type,a)}else if(e instanceof MouseEvent){const l={x:e.offsetX,y:e.offsetY,originalEvent:e};this.activeLayerDispatcher(e.type,l)}}}getRenderingLayerId(){return this.renderingLayerId}destroy(){typeof window>"u"||(this.layerObserver.disconnect(),cancelAnimationFrame(this.renderLoop))}}const is=t=>{const e=t*2,l=e>>16&255,s=e>>8&255,i=e&255;return`rgb(${l}, ${s}, ${i})`},as=(t,e,l)=>{const s=(t<<16|e<<8|l)/2;return s%1?0:s},rs=["drawImage"],os=["filter","shadowBlur","globalCompositeOperation","globalAlpha"],us=["drawImage","fill","fillRect","fillText","stroke","strokeRect","strokeText"],fs=t=>{let e;const l=document.createElement("canvas"),s=l.getContext("2d",{willReadFrequently:!0}),i=()=>{l.width=t.canvas.width,l.height=t.canvas.height};return new MutationObserver(i).observe(t.canvas,{attributeFilter:["width","height"]}),i(),new Proxy(t,{get(a,f){if(f==="_getLayerIdAtPixel")return(u,d)=>{const[m,_,g]=s.getImageData(u,d,1,1).data;return as(m,_,g)};const r=a[f];return typeof r!="function"?r:function(...u){if(us.includes(f)){const d=is(e());s.fillStyle=d,s.strokeStyle=d}if(f==="drawImage"){const d=u.slice(1);s.fillRect(...d)}return rs.includes(f)||Reflect.apply(r,s,u),Reflect.apply(r,a,u)}},set(a,f,r){return f==="_renderingLayerId"?(e=r,!0):(a[f]=r,os.includes(f)||(s[f]=r),!0)}})};function cs(t){let e,l,s,i=`${t[0]}px`,n=`${t[1]}px`,a,f,r,u,d;const m=t[18].default,_=vt(m,t,t[17],null);return{c(){e=P("canvas"),a=V(),f=P("div"),_&&_.c(),this.h()},l(g){e=z(g,"CANVAS",{width:!0,height:!0,class:!0,style:!0}),D(e).forEach(S),a=J(g),f=z(g,"DIV",{});var o=D(f);_&&_.l(o),o.forEach(S),this.h()},h(){C(e,"width",l=t[0]*t[5]),C(e,"height",s=t[1]*t[5]),C(e,"class",t[4]),C(e,"style",t[2]),Ye(e,"display","block"),Ye(e,"width",i),Ye(e,"height",n),Ye(f,"display","none")},m(g,o){j(g,e,o),t[64](e),j(g,a,o),j(g,f,o),_&&_.m(f,null),t[65](f),r=!0,u||(d=[R(e,"touchstart",Et(function(){Te(t[3]?t[9]:null)&&(t[3]?t[9]:null).apply(this,arguments)})),R(e,"mousemove",function(){Te(t[3]?t[8]:null)&&(t[3]?t[8]:null).apply(this,arguments)}),R(e,"pointermove",function(){Te(t[3]?t[8]:null)&&(t[3]?t[8]:null).apply(this,arguments)}),R(e,"click",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),R(e,"contextmenu",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),R(e,"dblclick",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),R(e,"mousedown",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),R(e,"mouseenter",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),R(e,"mouseleave",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),R(e,"mouseup",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),R(e,"wheel",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),R(e,"touchcancel",Et(function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),R(e,"touchend",Et(function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),R(e,"touchmove",Et(function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),R(e,"pointerenter",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),R(e,"pointerleave",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),R(e,"pointerdown",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),R(e,"pointerup",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),R(e,"pointercancel",function(){Te(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),R(e,"focus",t[19]),R(e,"blur",t[20]),R(e,"fullscreenchange",t[21]),R(e,"fullscreenerror",t[22]),R(e,"scroll",t[23]),R(e,"cut",t[24]),R(e,"copy",t[25]),R(e,"paste",t[26]),R(e,"keydown",t[27]),R(e,"keypress",t[28]),R(e,"keyup",t[29]),R(e,"auxclick",t[30]),R(e,"click",t[31]),R(e,"contextmenu",t[32]),R(e,"dblclick",t[33]),R(e,"mousedown",t[34]),R(e,"mouseenter",t[35]),R(e,"mouseleave",t[36]),R(e,"mousemove",t[37]),R(e,"mouseover",t[38]),R(e,"mouseout",t[39]),R(e,"mouseup",t[40]),R(e,"select",t[41]),R(e,"wheel",t[42]),R(e,"drag",t[43]),R(e,"dragend",t[44]),R(e,"dragenter",t[45]),R(e,"dragstart",t[46]),R(e,"dragleave",t[47]),R(e,"dragover",t[48]),R(e,"drop",t[49]),R(e,"touchcancel",t[50]),R(e,"touchend",t[51]),R(e,"touchmove",t[52]),R(e,"touchstart",t[53]),R(e,"pointerover",t[54]),R(e,"pointerenter",t[55]),R(e,"pointerdown",t[56]),R(e,"pointermove",t[57]),R(e,"pointerup",t[58]),R(e,"pointercancel",t[59]),R(e,"pointerout",t[60]),R(e,"pointerleave",t[61]),R(e,"gotpointercapture",t[62]),R(e,"lostpointercapture",t[63])],u=!0)},p(g,o){t=g,(!r||o[0]&33&&l!==(l=t[0]*t[5]))&&C(e,"width",l),(!r||o[0]&34&&s!==(s=t[1]*t[5]))&&C(e,"height",s),(!r||o[0]&16)&&C(e,"class",t[4]),(!r||o[0]&4)&&C(e,"style",t[2]);const c=o[0]&4;c&&Ye(e,"display","block"),(c||o[0]&5&&i!==(i=`${t[0]}px`))&&Ye(e,"width",i),(c||o[0]&6&&n!==(n=`${t[1]}px`))&&Ye(e,"height",n),_&&_.p&&(!r||o[0]&131072)&&bt(_,m,t,t[17],r?St(m,t[17],o,null):wt(t[17]),null)},i(g){r||(U(_,g),r=!0)},o(g){H(_,g),r=!1},d(g){g&&(S(e),S(a),S(f)),t[64](null),_&&_.d(g),t[65](null),u=!1,xe(d)}}}const Ll=Symbol(),hs=()=>Yl(Ll);function ds(t,e,l){let s,{$$slots:i={},$$scope:n}=e,{width:a=640,height:f=640,pixelRatio:r=null,style:u="",autoclear:d=!0,layerEvents:m=!1}=e,{class:_=""}=e,g,o=null,c;const h=new ns;function p(){h.redraw()}function b(){return g}function T(){return o}r==null&&(typeof window<"u"?r=window.devicePixelRatio:r=2),Kl(Ll,{register:h.register,unregister:h.unregister,redraw:h.redraw}),Ot(()=>{const I=g.getContext("2d");m?(o=fs(I),o._renderingLayerId=h.getRenderingLayerId):o=I,h.setup(o,c)}),Dt(()=>h.destroy());const E=I=>{const mt=I.offsetX*s,_t=I.offsetY*s,gt=o._getLayerIdAtPixel(mt,_t);h.setActiveLayer(gt,I),h.dispatchLayerEvent(I)},k=I=>{const{clientX:mt,clientY:_t}=I.changedTouches[0],{left:gt,top:Rt}=g.getBoundingClientRect(),Pt=(mt-gt)*s,zt=(_t-Rt)*s,Mt=o._getLayerIdAtPixel(Pt,zt);h.setActiveLayer(Mt,I),h.dispatchLayerEvent(I)},A=I=>{window.TouchEvent&&I instanceof TouchEvent&&I.preventDefault(),h.dispatchLayerEvent(I)};function M(I){Y.call(this,t,I)}function L(I){Y.call(this,t,I)}function O(I){Y.call(this,t,I)}function q(I){Y.call(this,t,I)}function F(I){Y.call(this,t,I)}function ee(I){Y.call(this,t,I)}function W(I){Y.call(this,t,I)}function de(I){Y.call(this,t,I)}function Ce(I){Y.call(this,t,I)}function he(I){Y.call(this,t,I)}function Z(I){Y.call(this,t,I)}function Se(I){Y.call(this,t,I)}function Ne(I){Y.call(this,t,I)}function be(I){Y.call(this,t,I)}function B(I){Y.call(this,t,I)}function te(I){Y.call(this,t,I)}function ie(I){Y.call(this,t,I)}function N(I){Y.call(this,t,I)}function v(I){Y.call(this,t,I)}function x(I){Y.call(this,t,I)}function ae(I){Y.call(this,t,I)}function le(I){Y.call(this,t,I)}function me(I){Y.call(this,t,I)}function ne(I){Y.call(this,t,I)}function ke(I){Y.call(this,t,I)}function pe(I){Y.call(this,t,I)}function Pe(I){Y.call(this,t,I)}function ue(I){Y.call(this,t,I)}function K(I){Y.call(this,t,I)}function $(I){Y.call(this,t,I)}function re(I){Y.call(this,t,I)}function oe(I){Y.call(this,t,I)}function Oe(I){Y.call(this,t,I)}function Me(I){Y.call(this,t,I)}function De(I){Y.call(this,t,I)}function fe(I){Y.call(this,t,I)}function Ie(I){Y.call(this,t,I)}function Ke(I){Y.call(this,t,I)}function He(I){Y.call(this,t,I)}function ze(I){Y.call(this,t,I)}function je(I){Y.call(this,t,I)}function rt(I){Y.call(this,t,I)}function ht(I){Y.call(this,t,I)}function dt(I){Y.call(this,t,I)}function ot(I){Y.call(this,t,I)}function ut(I){Ze[I?"unshift":"push"](()=>{g=I,l(6,g)})}function At(I){Ze[I?"unshift":"push"](()=>{c=I,l(7,c)})}return t.$$set=I=>{"width"in I&&l(0,a=I.width),"height"in I&&l(1,f=I.height),"pixelRatio"in I&&l(11,r=I.pixelRatio),"style"in I&&l(2,u=I.style),"autoclear"in I&&l(12,d=I.autoclear),"layerEvents"in I&&l(3,m=I.layerEvents),"class"in I&&l(4,_=I.class),"$$scope"in I&&l(17,n=I.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2048&&l(5,s=r??1),t.$$.dirty[0]&1&&l(16,h.width=a,h),t.$$.dirty[0]&2&&l(16,h.height=f,h),t.$$.dirty[0]&32&&l(16,h.pixelRatio=s,h),t.$$.dirty[0]&4096&&l(16,h.autoclear=d,h),t.$$.dirty[0]&71683&&h.redraw()},[a,f,u,m,_,s,g,c,E,k,A,r,d,p,b,T,h,n,i,M,L,O,q,F,ee,W,de,Ce,he,Z,Se,Ne,be,B,te,ie,N,v,x,ae,le,me,ne,ke,pe,Pe,ue,K,$,re,oe,Oe,Me,De,fe,Ie,Ke,He,ze,je,rt,ht,dt,ot,ut,At]}class ms extends it{constructor(e){super(),at(this,e,ds,cs,nt,{width:0,height:1,pixelRatio:11,style:2,autoclear:12,layerEvents:3,class:4,redraw:13,getCanvas:14,getContext:15},null,[-1,-1,-1])}get redraw(){return this.$$.ctx[13]}get getCanvas(){return this.$$.ctx[14]}get getContext(){return this.$$.ctx[15]}}function _s(t){let e;return{c(){e=P("div"),this.h()},l(l){e=z(l,"DIV",{"data-layer-id":!0}),D(e).forEach(S),this.h()},h(){C(e,"data-layer-id",t[0])},m(l,s){j(l,e,s)},p:Qe,i:Qe,o:Qe,d(l){l&&S(e)}}}function gs(t,e,l){const{register:s,unregister:i,redraw:n}=hs(),a=Al();let{setup:f=void 0}=e,{render:r=()=>{}}=e;const u=s({setup:f,render:r,dispatcher:a});return Dt(()=>i(u)),t.$$set=d=>{"setup"in d&&l(1,f=d.setup),"render"in d&&l(2,r=d.render)},t.$$.update=()=>{t.$$.dirty&4&&n()},[u,f,r]}class ps extends it{constructor(e){super(),at(this,e,gs,_s,nt,{setup:1,render:2})}}let Kt;const Nl=Date.now(),Ol=t=>(t(Date.now()-Nl),Kt=window.requestAnimationFrame(()=>Ol(t)),()=>window.cancelAnimationFrame(Kt));function vs(){}const bs=Ql(Date.now()-Nl,typeof window>"u"?vs:Ol),{window:Nt}=Ml;function Yt(t){let e,l,s,i,n,a;l=new ms({props:{width:t[0],height:t[1],$$slots:{default:[ws]},$$scope:{ctx:t}}}),l.$on("pointerdown",t[5]),l.$on("wheel",t[8]);const f=t[26].default,r=vt(f,t,t[27],null);return{c(){e=P("div"),qe(l.$$.fragment),s=V(),r&&r.c(),this.h()},l(u){e=z(u,"DIV",{style:!0});var d=D(e);Ue(l.$$.fragment,d),s=J(d),r&&r.l(d),d.forEach(S),this.h()},h(){Ye(e,"touch-action","none"),Ye(e,"cursor",t[2])},m(u,d){j(u,e,d),Be(l,e,null),w(e,s),r&&r.m(e,null),i=!0,n||(a=R(e,"resize",t[9]),n=!0)},p(u,d){const m={};d[0]&1&&(m.width=u[0]),d[0]&2&&(m.height=u[1]),d[0]&134217736&&(m.$$scope={dirty:d,ctx:u}),l.$set(m),r&&r.p&&(!i||d[0]&134217728)&&bt(r,f,u,u[27],i?St(f,u[27],d,null):wt(u[27]),null),(!i||d[0]&4)&&Ye(e,"cursor",u[2])},i(u){i||(U(l.$$.fragment,u),U(r,u),i=!0)},o(u){H(l.$$.fragment,u),H(r,u),i=!1},d(u){u&&S(e),Fe(l),r&&r.d(u),n=!1,a()}}}function ws(t){let e,l;return e=new ps({props:{render:t[3]}}),{c(){qe(e.$$.fragment)},l(s){Ue(e.$$.fragment,s)},m(s,i){Be(e,s,i),l=!0},p(s,i){const n={};i[0]&8&&(n.render=s[3]),e.$set(n)},i(s){l||(U(e.$$.fragment,s),l=!0)},o(s){H(e.$$.fragment,s),l=!1},d(s){Fe(e,s)}}}function Ss(t){let e,l,s,i,n=t[0]&&t[1]&&Yt(t);return{c(){n&&n.c(),e=we()},l(a){n&&n.l(a),e=we()},m(a,f){n&&n.m(a,f),j(a,e,f),l=!0,s||(i=[R(Nt,"pointerup",t[6]),R(Nt,"pointermove",t[7]),R(Nt,"resize",t[9])],s=!0)},p(a,f){a[0]&&a[1]?n?(n.p(a,f),f[0]&3&&U(n,1)):(n=Yt(a),n.c(),U(n,1),n.m(e.parentNode,e)):n&&(Ve(),H(n,1,1,()=>{n=null}),Je())},i(a){l||(U(n),l=!0)},o(a){H(n),l=!1},d(a){a&&S(e),n&&n.d(a),s=!1,xe(i)}}}const Xt="25px Roboto Mono",Gt="17px Roboto Mono",Wt=2.6;function ks(t,e,l){let s,i,n,{$$slots:a={},$$scope:f}=e,{clickNode:r}=e,{circledNode:u}=e,{selectedJewel:d}=e,{selectedConqueror:m}=e,{seed:_}=e,{highlighted:g=[]}=e,{disabled:o=[]}=e,{highlightJewels:c=!1}=e;const h=Zl(bs,v=>(!g||!g.length)&&!c?0:Math.round(v/40));Rl(t,h,v=>l(25,n=v));const p=[427,320,226,227,323,422,329];let b=10,T=0,E=0;const k={},A={},M=(v,x,ae,le=!1,me=!1)=>{let ne=le?$l[x]:Ht[x];!ne&&le&&(ne=Ht[x]);const ke=ne.filename;ke in(le?A:k)||((le?A:k)[ke]=new Image,(le?A:k)[ke].src=ke);const pe=ne.coords[x],Pe=pe.w/b*Wt,ue=pe.h/b*Wt,K=ae.x-Pe/2,$=ae.y-ue/2;let re=$;me&&(re=$-ue/2),v.drawImage((le?A:k)[ke],pe.x,pe.y,pe.w,pe.h,K,re,Pe,ue),me&&(v.save(),v.translate(K,$),v.rotate(Math.PI),v.drawImage((le?A:k)[ke],pe.x,pe.y,pe.w,pe.h,-Pe,-(ue/2),Pe,-ue),v.restore())},L=(v,x,ae)=>{const le=[];let me="";return v.split(" ").forEach(ne=>{x.measureText(me+ne).width<ae?me+=" "+ne:(le.push(me.trim()),me=ne)}),me.length>0&&le.push(me.trim()),le};let O={x:Number.MIN_VALUE,y:Number.MIN_VALUE},q="unset",F,ee=0,W=0,de=0,Ce=0,he=!1;const Z=v=>{he=!0,ee=v.offsetX,W=v.offsetY,de=T,Ce=E,l(21,O={x:v.offsetX,y:v.offsetY}),F&&r(F)},Se=v=>{v.type==="pointerup"&&(he=!1),l(21,O={x:v.offsetX,y:v.offsetY})},Ne=v=>{he&&(l(19,T=de-(ee-v.offsetX)*b),l(20,E=Ce-(W-v.offsetY)*b)),l(21,O={x:v.offsetX,y:v.offsetY})},be=v=>{v.deltaY>0?b<30&&(l(19,T+=v.offsetX),l(20,E+=v.offsetY)):b>3&&(l(19,T-=v.offsetX),l(20,E-=v.offsetY)),l(18,b=Math.min(30,Math.max(3,b+v.deltaY/100))),v.preventDefault(),v.stopPropagation(),v.stopImmediatePropagation()};let B=0,te=0;const ie=()=>{l(0,B=window.innerWidth),l(1,te=window.innerHeight)};let N=!1;return t.$$set=v=>{"clickNode"in v&&l(10,r=v.clickNode),"circledNode"in v&&l(11,u=v.circledNode),"selectedJewel"in v&&l(12,d=v.selectedJewel),"selectedConqueror"in v&&l(13,m=v.selectedConqueror),"seed"in v&&l(14,_=v.seed),"highlighted"in v&&l(15,g=v.highlighted),"disabled"in v&&l(16,o=v.disabled),"highlightJewels"in v&&l(17,c=v.highlightJewels),"$$scope"in v&&l(27,f=v.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&262144&&l(24,s=xl/b),t.$$.dirty[0]&8650752&&(!N&&Xe&&(l(23,N=!0),l(19,T=Xe.min_x+window.innerWidth/2*b),l(20,E=Xe.min_y+window.innerHeight/2*b)),ie()),t.$$.dirty[0]&58718208&&l(3,i=({context:v,width:x,height:ae})=>{const le=window.performance.now();v.clearRect(0,0,x,ae),v.fillStyle="#080c11",v.fillRect(0,0,x,ae);const me={};Object.keys(Lt).forEach(ue=>{const K=Lt[ue],$=Jt(K.x,K.y,T,E,b),re=Math.max(...K.orbits);p.indexOf(parseInt(ue))>=0||(re==1?M(v,"PSGroupBackground1",$,!1):re==2?M(v,"PSGroupBackground2",$,!1):(re==3||K.orbits.length>1)&&M(v,"PSGroupBackground3",$,!1,!0))}),Object.keys(lt).forEach(ue=>{var oe;const K=lt[ue],$=qt(K.orbit,K.orbitIndex),re=Tt(K,T,E,b);(oe=K.out)==null||oe.forEach(Oe=>{if(!lt[parseInt(Oe)])return;const Me=Math.min(parseInt(Oe),parseInt(ue)),De=Math.max(parseInt(Oe),parseInt(ue)),fe=Me+":"+De;if(fe in me)return;me[fe]=!0;const Ie=lt[parseInt(Oe)];if(!Ie||Ie.isMastery)return;const Ke=qt(Ie.orbit,Ie.orbitIndex),He=Tt(Ie,T,E,b);if(v.beginPath(),K.group!=Ie.group||K.orbit!=Ie.orbit)v.moveTo(re.x,re.y),v.lineTo(He.x,He.y);else{let ze=Math.PI/180-Math.PI/180*$,je=Math.PI/180-Math.PI/180*Ke;ze-=Math.PI/2,je-=Math.PI/2;const rt=Math.abs(Math.max(ze,je)-Math.min(ze,je)),ht=rt>Math.PI?Math.max(ze,je):Math.min(ze,je),dt=rt>Math.PI?Math.min(ze,je):Math.max(ze,je),ot=Lt[K.group],ut=Jt(ot.x,ot.y,T,E,b);v.arc(ut.x,ut.y,Xe.constants.orbitRadii[K.orbit]/b+1,ht,dt)}v.lineWidth=6/b,v.strokeStyle="#524518",v.stroke()})});let ne;u&&(ne=Tt(lt[u],T,E,b),v.strokeStyle="#ad2b2b");let ke=!1,pe;if(Object.keys(lt).forEach(ue=>{const K=lt[ue],$=Tt(K,T,E,b);let re=0,oe=!1;u&&Ut($,ne)<s&&(oe=!0),o.indexOf(K.skill)>=0&&(oe=!1),K.isKeystone?(re=110,M(v,K.icon,$,oe),oe?M(v,"KeystoneFrameAllocated",$,!1):M(v,"KeystoneFrameUnallocated",$,!1)):K.isNotable?(re=70,M(v,K.icon,$,oe),oe?M(v,"NotableFrameAllocated",$,!1):M(v,"NotableFrameUnallocated",$,!1)):K.isJewelSocket?(re=70,K.expansionJewel?M(v,"JewelSocketAltNormal",$,!1):oe?M(v,"JewelFrameAllocated",$,!1):M(v,"JewelFrameUnallocated",$,!1)):K.isMastery?M(v,K.inactiveIcon,$,oe):(re=50,M(v,K.icon,$,oe),oe?M(v,"PSSkillFrameActive",$,!1):M(v,"PSSkillFrame",$,!1)),(g.indexOf(K.skill)>=0||c&&K.isJewelSocket)&&(v.strokeStyle=`hsl(${n}, 100%, 50%)`,v.lineWidth=3,v.beginPath(),v.arc($.x,$.y,(re+30)/b,0,Math.PI*2),v.stroke()),Ut($,O)<re/b&&(pe=K,ke=oe)}),l(22,F=pe),u&&(v.strokeStyle="#ad2b2b",v.lineWidth=1,v.beginPath(),v.arc(ne.x,ne.y,s,0,Math.PI*2),v.stroke()),F){let ue=F.name,K=(F.stats||[]).map(fe=>({text:fe,special:!1}));if(!F.isJewelSocket&&ke&&F.skill&&_&&d&&m){const fe=zl.Calculate(se.TreeToPassive[F.skill].Index,_,d,m);fe&&("AlternatePassiveSkill"in fe&&fe.AlternatePassiveSkill&&(K=[],ue=fe.AlternatePassiveSkill.Name,"StatsKeys"in fe.AlternatePassiveSkill&&fe.AlternatePassiveSkill.StatsKeys.forEach((Ie,Ke)=>{const He=se.GetStatByIndex(Ie),ze=Bt[He.ID]||"";ze&&K.push({text:Ft(ze,fe.StatRolls[Ke])||He.ID,special:!0})})),fe.AlternatePassiveAdditionInformations&&fe.AlternatePassiveAdditionInformations.forEach(Ie=>{"StatsKeys"in Ie.AlternatePassiveAddition&&Ie.AlternatePassiveAddition.StatsKeys.forEach((Ke,He)=>{const ze=se.GetStatByIndex(Ke),je=Bt[ze.ID]||"";je&&K.push({text:Ft(je,Ie.StatRolls[He])||ze.ID,special:!0})})}))}v.font=Xt;const $=v.measureText(ue),re=Math.max($.width+50,600);v.font=Gt;const oe=[],Oe=30;let Me=85;K&&K.length>0?K.forEach(fe=>{oe.length>0&&(Me+=5),fe.text.split(`
`).forEach(Ie=>{oe.length>0&&(Me+=10),L(Ie,v,re-Oe).forEach(He=>{oe.push({text:He,offset:Me,special:fe.special}),Me+=20})})}):F.isJewelSocket&&(oe.push({text:"Click to select this socket",offset:Me,special:!0}),Me+=20);const De=55;v.fillStyle="rgba(75,63,24,0.9)",v.fillRect(O.x,O.y,re,De),v.fillStyle="#ffffff",v.font=Xt,v.textAlign="center",v.fillText(ue,O.x+re/2,O.y+35),v.fillStyle="rgba(0,0,0,0.8)",v.fillRect(O.x,O.y+De,re,Me-De),v.font=Gt,v.textAlign="left",oe.forEach(fe=>{fe.special?v.fillStyle="#8cf34c":v.fillStyle="#ffffff",v.fillText(fe.text,O.x+Oe/2,O.y+fe.offset)})}F&&F.isJewelSocket?l(2,q="pointer"):l(2,q="unset"),v.fillStyle="#ffffff",v.textAlign="right",v.font="12px Roboto Mono";const Pe=window.performance.now();v.fillText(`${(Pe-le).toFixed(1)}ms`,x-5,17)})},[B,te,q,i,h,Z,Se,Ne,be,ie,r,u,d,m,_,g,o,c,b,T,E,O,F,N,s,n,a,f]}class Is extends it{constructor(e){super(),at(this,e,ks,Ss,nt,{clickNode:10,circledNode:11,selectedJewel:12,selectedConqueror:13,seed:14,highlighted:15,disabled:16,highlightJewels:17},null,[-1,-1])}}function Qt(t,e,l){const s=t.slice();return s[8]=e[l],s}function Zt(t,e,l){const s=t.slice();return s[11]=e[l],s}function xt(t){let e,l=ct(t[11],t[8].stats[t[11]])+"",s;return{c(){e=P("li"),s=X(l)},l(i){e=z(i,"LI",{});var n=D(e);s=G(n,l),n.forEach(S)},m(i,n){j(i,e,n),w(e,s)},p(i,n){n&2&&l!==(l=ct(i[11],i[8].stats[i[11]])+"")&&Re(s,l)},d(i){i&&S(e)}}}function $t(t){let e,l,s=Xe.nodes[t[8].passive].name+"",i,n,a=t[8].passive+"",f,r,u,d,m,_=Le(Object.keys(t[8].stats)),g=[];for(let o=0;o<_.length;o+=1)g[o]=xt(Zt(t,_,o));return{c(){e=P("div"),l=P("span"),i=X(s),n=X(" ("),f=X(a),r=X(")"),u=V(),d=P("ul");for(let o=0;o<g.length;o+=1)g[o].c();m=V(),this.h()},l(o){e=z(o,"DIV",{class:!0});var c=D(e);l=z(c,"SPAN",{});var h=D(l);i=G(h,s),n=G(h," ("),f=G(h,a),r=G(h,")"),h.forEach(S),u=J(c),d=z(c,"UL",{class:!0});var p=D(d);for(let b=0;b<g.length;b+=1)g[b].l(p);p.forEach(S),m=J(c),c.forEach(S),this.h()},h(){C(d,"class","list-disc pl-6 font-bold"),C(e,"class","mt-2")},m(o,c){j(o,e,c),w(e,l),w(l,i),w(l,n),w(l,f),w(l,r),w(e,u),w(e,d);for(let h=0;h<g.length;h+=1)g[h]&&g[h].m(d,null);w(e,m)},p(o,c){if(c&2&&s!==(s=Xe.nodes[o[8].passive].name+"")&&Re(i,s),c&2&&a!==(a=o[8].passive+"")&&Re(f,a),c&2){_=Le(Object.keys(o[8].stats));let h;for(h=0;h<_.length;h+=1){const p=Zt(o,_,h);g[h]?g[h].p(p,c):(g[h]=xt(p),g[h].c(),g[h].m(d,null))}for(;h<g.length;h+=1)g[h].d(1);g.length=_.length}},d(o){o&&S(e),st(g,o)}}}function ys(t){let e,l,s,i="Trade",n,a,f,r=t[1].seed+"",u,d,m=t[1].weight+"",_,g,o,c,h="Trade",p,b,T,E=Le(t[1].skills),k=[];for(let A=0;A<E.length;A+=1)k[A]=$t(Qt(t,E,A));return{c(){e=P("div"),l=P("div"),s=P("button"),s.textContent=i,n=V(),a=P("div"),f=X("Seed "),u=X(r),d=X(" (weight "),_=X(m),g=X(")"),o=V(),c=P("button"),c.textContent=h,p=V();for(let A=0;A<k.length;A+=1)k[A].c();this.h()},l(A){e=z(A,"DIV",{class:!0});var M=D(e);l=z(M,"DIV",{class:!0});var L=D(l);s=z(L,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(s)!=="svelte-1wpptz2"&&(s.textContent=i),n=J(L),a=z(L,"DIV",{class:!0});var O=D(a);f=G(O,"Seed "),u=G(O,r),d=G(O," (weight "),_=G(O,m),g=G(O,")"),O.forEach(S),o=J(L),c=z(L,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(c)!=="svelte-vbldzr"&&(c.textContent=h),L.forEach(S),p=J(M);for(let q=0;q<k.length;q+=1)k[q].l(M);M.forEach(S),this.h()},h(){C(s,"class","px-3 invisible"),C(a,"class","font-bold text-orange-500 text-center"),C(c,"class","px-3 bg-blue-500/40 rounded"),C(l,"class","flex flex-row justify-between"),C(e,"class","my-2 border-white/50 border p-2 flex flex-col cursor-pointer")},m(A,M){j(A,e,M),w(e,l),w(l,s),w(l,n),w(l,a),w(a,f),w(a,u),w(a,d),w(a,_),w(a,g),w(l,o),w(l,c),w(e,p);for(let L=0;L<k.length;L+=1)k[L]&&k[L].m(e,null);b||(T=[R(c,"click",t[6]),R(e,"click",t[7])],b=!0)},p(A,[M]){if(M&2&&r!==(r=A[1].seed+"")&&Re(u,r),M&2&&m!==(m=A[1].weight+"")&&Re(_,m),M&2){E=Le(A[1].skills);let L;for(L=0;L<E.length;L+=1){const O=Qt(A,E,L);k[L]?k[L].p(O,M):(k[L]=$t(O),k[L].c(),k[L].m(e,null))}for(;L<k.length;L+=1)k[L].d(1);k.length=E.length}},i:Qe,o:Qe,d(A){A&&S(e),st(k,A),b=!1,xe(T)}}}function Es(t,e,l){let{highlight:s}=e,{set:i}=e,{jewel:n}=e,{conqueror:a}=e,{platform:f}=e,{league:r}=e;const u=()=>Pl(n,a,[i],f,r),d=()=>s(i.seed,i.skills.map(m=>m.passive));return t.$$set=m=>{"highlight"in m&&l(0,s=m.highlight),"set"in m&&l(1,i=m.set),"jewel"in m&&l(2,n=m.jewel),"conqueror"in m&&l(3,a=m.conqueror),"platform"in m&&l(4,f=m.platform),"league"in m&&l(5,r=m.league)},[s,i,n,a,f,r,u,d]}class Dl extends it{constructor(e){super(),at(this,e,Es,ys,nt,{highlight:0,set:1,jewel:2,conqueror:3,platform:4,league:5})}}const Ct={AUTO:"auto",START:"start",CENTER:"center",END:"end"},We={HORIZONTAL:"horizontal",VERTICAL:"vertical"},pt={OBSERVED:0,REQUESTED:1},Ts={[We.VERTICAL]:"top",[We.HORIZONTAL]:"left"},el={[We.VERTICAL]:"scrollTop",[We.HORIZONTAL]:"scrollLeft"};class Cs{constructor({itemSize:e,itemCount:l,estimatedItemSize:s}){this.itemSize=e,this.itemCount=l,this.estimatedItemSize=s,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:l,estimatedItemSize:s}){l!=null&&(this.itemCount=l),s!=null&&(this.estimatedItemSize=s),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:l}=this;return typeof l=="function"?l(e):Array.isArray(l)?l[e]:l}computeTotalSizeAndPositionData(){let e=0;for(let l=0;l<this.itemCount;l++){const s=this.getSize(l),i=e;e+=s,this.itemSizeAndPositionData[l]={offset:i,size:s}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const l=this.getSizeAndPositionOfLastMeasuredItem();let s=l.offset+l.size;for(let i=this.lastMeasuredIndex+1;i<=e;i++){const n=this.getSize(i);if(n==null||isNaN(n))throw Error(`Invalid size returned for index ${i} of value ${n}`);this.itemSizeAndPositionData[i]={offset:s,size:n},s+=n}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=Ct.START,containerSize:l,currentOffset:s,targetIndex:i}){if(l<=0)return 0;const n=this.getSizeAndPositionForIndex(i),a=n.offset,f=a-l+n.size;let r;switch(e){case Ct.END:r=f;break;case Ct.CENTER:r=a-(l-n.size)/2;break;case Ct.START:r=a;break;default:r=Math.max(f,Math.min(a,s))}const u=this.getTotalSize();return Math.max(0,Math.min(u-l,r))}getVisibleRange({containerSize:e=0,offset:l,overscanCount:s}){if(this.getTotalSize()===0)return{};const n=l+e;let a=this.findNearestItem(l);if(a===void 0)throw Error(`Invalid offset ${l} specified`);const f=this.getSizeAndPositionForIndex(a);l=f.offset+f.size;let r=a;for(;l<n&&r<this.itemCount-1;)r++,l+=this.getSizeAndPositionForIndex(r).size;return s&&(a=Math.max(0,a-s),r=Math.min(r+s,this.itemCount-1)),{start:a,stop:r}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const l=this.getSizeAndPositionOfLastMeasuredItem(),s=Math.max(0,this.lastMeasuredIndex);return l.offset>=e?this.binarySearch({high:s,low:0,offset:e}):this.exponentialSearch({index:s,offset:e})}binarySearch({low:e,high:l,offset:s}){let i=0,n=0;for(;e<=l;){if(i=e+Math.floor((l-e)/2),n=this.getSizeAndPositionForIndex(i).offset,n===s)return i;n<s?e=i+1:n>s&&(l=i-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:l}){let s=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<l;)e+=s,s*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:l})}}const As=t=>({}),tl=t=>({});function ll(t,e,l){const s=t.slice();return s[37]=e[l],s}const Rs=t=>({style:t[0]&4,index:t[0]&4}),sl=t=>({style:t[37].style,index:t[37].index}),Ps=t=>({}),nl=t=>({});function il(t,e){let l,s;const i=e[21].item,n=vt(i,e,e[20],sl);return{key:t,first:null,c(){l=we(),n&&n.c(),this.h()},l(a){l=we(),n&&n.l(a),this.h()},h(){this.first=l},m(a,f){j(a,l,f),n&&n.m(a,f),s=!0},p(a,f){e=a,n&&n.p&&(!s||f[0]&1048580)&&bt(n,i,e,e[20],s?St(i,e[20],f,Rs):wt(e[20]),sl)},i(a){s||(U(n,a),s=!0)},o(a){H(n,a),s=!1},d(a){a&&S(l),n&&n.d(a)}}}function zs(t){let e,l,s,i=[],n=new Map,a,f;const r=t[21].header,u=vt(r,t,t[20],nl);let d=Le(t[2]);const m=o=>o[0]?o[0](o[37].index):o[37].index;for(let o=0;o<d.length;o+=1){let c=ll(t,d,o),h=m(c);n.set(h,i[o]=il(h,c))}const _=t[21].footer,g=vt(_,t,t[20],tl);return{c(){e=P("div"),u&&u.c(),l=V(),s=P("div");for(let o=0;o<i.length;o+=1)i[o].c();a=V(),g&&g.c(),this.h()},l(o){e=z(o,"DIV",{class:!0,style:!0});var c=D(e);u&&u.l(c),l=J(c),s=z(c,"DIV",{class:!0,style:!0});var h=D(s);for(let p=0;p<i.length;p+=1)i[p].l(h);h.forEach(S),a=J(c),g&&g.l(c),c.forEach(S),this.h()},h(){C(s,"class","virtual-list-inner svelte-1d4hv8l"),C(s,"style",t[4]),C(e,"class","virtual-list-wrapper svelte-1d4hv8l"),C(e,"style",t[3])},m(o,c){j(o,e,c),u&&u.m(e,null),w(e,l),w(e,s);for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(s,null);w(e,a),g&&g.m(e,null),t[22](e),f=!0},p(o,c){u&&u.p&&(!f||c[0]&1048576)&&bt(u,r,o,o[20],f?St(r,o[20],c,Ps):wt(o[20]),nl),c[0]&1048581&&(d=Le(o[2]),Ve(),i=Xl(i,c,m,1,o,d,n,s,Gl,il,null,ll),Je()),(!f||c[0]&16)&&C(s,"style",o[4]),g&&g.p&&(!f||c[0]&1048576)&&bt(g,_,o,o[20],f?St(_,o[20],c,As):wt(o[20]),tl),(!f||c[0]&8)&&C(e,"style",o[3])},i(o){if(!f){U(u,o);for(let c=0;c<d.length;c+=1)U(i[c]);U(g,o),f=!0}},o(o){H(u,o);for(let c=0;c<i.length;c+=1)H(i[c]);H(g,o),f=!1},d(o){o&&S(e),u&&u.d(o);for(let c=0;c<i.length;c+=1)i[c].d();g&&g.d(o),t[22](null)}}}const Ms=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get(){return t={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return t})();function Ls(t,e,l){let{$$slots:s={},$$scope:i}=e,{height:n}=e,{width:a="100%"}=e,{itemCount:f}=e,{itemSize:r}=e,{estimatedItemSize:u=null}=e,{stickyIndices:d=null}=e,{getKey:m=null}=e,{scrollDirection:_=We.VERTICAL}=e,{scrollOffset:g=null}=e,{scrollToIndex:o=null}=e,{scrollToAlignment:c=null}=e,{scrollToBehaviour:h="instant"}=e,{overscanCount:p=3}=e;const b=Al(),T=new Cs({itemCount:f,itemSize:r,estimatedItemSize:B()});let E=!1,k,A=[],M={offset:g||o!=null&&A.length&&Se(o)||0,scrollChangeReason:pt.REQUESTED},L=M,O={scrollToIndex:o,scrollToAlignment:c,scrollOffset:g,itemCount:f,itemSize:r,estimatedItemSize:u},q={},F="",ee="";Ce(),Ot(()=>{l(18,E=!0),k.addEventListener("scroll",Ne,Ms),g!=null?he(g):o!=null&&he(Se(o))}),Dt(()=>{E&&k.removeEventListener("scroll",Ne)});function W(){if(!E)return;const N=O.scrollToIndex!==o||O.scrollToAlignment!==c,v=O.itemCount!==f||O.itemSize!==r||O.estimatedItemSize!==u;v&&(T.updateConfig({itemSize:r,itemCount:f,estimatedItemSize:B()}),Z()),O.scrollOffset!==g?l(19,M={offset:g||0,scrollChangeReason:pt.REQUESTED}):typeof o=="number"&&(N||v)&&l(19,M={offset:Se(o,c,f),scrollChangeReason:pt.REQUESTED}),O={scrollToIndex:o,scrollToAlignment:c,scrollOffset:g,itemCount:f,itemSize:r,estimatedItemSize:u}}function de(){if(!E)return;const{offset:N,scrollChangeReason:v}=M;(L.offset!==N||L.scrollChangeReason!==v)&&Ce(),L.offset!==N&&v===pt.REQUESTED&&he(N),L=M}function Ce(){const{offset:N}=M,{start:v,stop:x}=T.getVisibleRange({containerSize:_===We.VERTICAL?n:a,offset:N,overscanCount:p});let ae=[];const le=T.getTotalSize();_===We.VERTICAL?(l(3,F=`height:${n}px;width:${a};`),l(4,ee=`flex-direction:column;height:${le}px;`)):(l(3,F=`height:${n};width:${a}px`),l(4,ee=`min-height:100%;width:${le}px;`));const me=d!=null&&d.length!==0;if(me)for(let ne=0;ne<d.length;ne++){const ke=d[ne];ae.push({index:ke,style:te(ke,!0)})}if(v!==void 0&&x!==void 0){for(let ne=v;ne<=x;ne++)me&&d.includes(ne)||ae.push({index:ne,style:te(ne,!1)});b("itemsUpdated",{start:v,end:x})}l(2,A=ae)}function he(N){"scroll"in k?k.scroll({[Ts[_]]:N,behavior:h}):l(1,k[el[_]]=N,k)}function Z(N=0){q={},T.resetItem(N),Ce()}function Se(N,v=c,x=f){return(N<0||N>=x)&&(N=0),T.getUpdatedOffsetForIndex({align:v,containerSize:_===We.VERTICAL?n:a,currentOffset:M.offset||0,targetIndex:N})}function Ne(N){const v=be();v<0||M.offset===v||N.target!==k||(l(19,M={offset:v,scrollChangeReason:pt.OBSERVED}),b("afterScroll",{offset:v,event:N}))}function be(){return k[el[_]]}function B(){return u||typeof r=="number"&&r||50}function te(N,v){if(q[N])return q[N];const{size:x,offset:ae}=T.getSizeAndPositionForIndex(N);let le;return _===We.VERTICAL?(le=`left:0;width:100%;height:${x}px;`,v?le+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${ae}px;margin-bottom:${-(ae+x)}px;`:le+=`position:absolute;top:${ae}px;`):(le=`top:0;width:${x}px;`,v?le+=`position:sticky;z-index:1;left:0;margin-left:${ae}px;margin-right:${-(ae+x)}px;`:le+=`position:absolute;height:100%;left:${ae}px;`),q[N]=le}function ie(N){Ze[N?"unshift":"push"](()=>{k=N,l(1,k)})}return t.$$set=N=>{"height"in N&&l(5,n=N.height),"width"in N&&l(6,a=N.width),"itemCount"in N&&l(7,f=N.itemCount),"itemSize"in N&&l(8,r=N.itemSize),"estimatedItemSize"in N&&l(9,u=N.estimatedItemSize),"stickyIndices"in N&&l(10,d=N.stickyIndices),"getKey"in N&&l(0,m=N.getKey),"scrollDirection"in N&&l(11,_=N.scrollDirection),"scrollOffset"in N&&l(12,g=N.scrollOffset),"scrollToIndex"in N&&l(13,o=N.scrollToIndex),"scrollToAlignment"in N&&l(14,c=N.scrollToAlignment),"scrollToBehaviour"in N&&l(15,h=N.scrollToBehaviour),"overscanCount"in N&&l(16,p=N.overscanCount),"$$scope"in N&&l(20,i=N.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&29568&&W(),t.$$.dirty[0]&524288&&de(),t.$$.dirty[0]&263264&&E&&Z(0)},[m,k,A,F,ee,n,a,f,r,u,d,_,g,o,c,h,p,Z,E,M,i,s,ie]}class jl extends it{constructor(e){super(),at(this,e,Ls,zs,nt,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get recomputeSizes(){return this.$$.ctx[17]}}function al(t,e,l){const s=t.slice();return s[11]=e[l],s}function Ns(t){let e,l,s;return l=new jl({props:{height:"auto",overscanCount:15,itemCount:t[0].raw.length,itemSize:t[0].raw.map(t[8]),$$slots:{item:[Ds,({style:i,index:n})=>({14:i,15:n}),({style:i,index:n})=>(i?16384:0)|(n?32768:0)]},$$scope:{ctx:t}}}),{c(){e=P("div"),qe(l.$$.fragment),this.h()},l(i){e=z(i,"DIV",{class:!0});var n=D(e);Ue(l.$$.fragment,n),n.forEach(S),this.h()},h(){C(e,"class","mt-4 flex flex-col overflow-auto")},m(i,n){j(i,e,n),Be(l,e,null),s=!0},p(i,n){const a={};n&1&&(a.itemCount=i[0].raw.length),n&1&&(a.itemSize=i[0].raw.map(i[8])),n&114811&&(a.$$scope={dirty:n,ctx:i}),l.$set(a)},i(i){s||(U(l.$$.fragment,i),s=!0)},o(i){H(l.$$.fragment,i),s=!1},d(i){i&&S(e),Fe(l)}}}function Os(t){let e,l,s=Le(Object.keys(t[0].grouped).map(t[9]).sort(ul).reverse()),i=[];for(let a=0;a<s.length;a+=1)i[a]=ol(al(t,s,a));const n=a=>H(i[a],1,1,()=>{i[a]=null});return{c(){e=P("div");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=z(a,"DIV",{class:!0});var f=D(e);for(let r=0;r<i.length;r+=1)i[r].l(f);f.forEach(S),this.h()},h(){C(e,"class","flex flex-col overflow-auto")},m(a,f){j(a,e,f);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(e,null);l=!0},p(a,f){if(f&49659){s=Le(Object.keys(a[0].grouped).map(a[9]).sort(ul).reverse());let r;for(r=0;r<s.length;r+=1){const u=al(a,s,r);i[r]?(i[r].p(u,f),U(i[r],1)):(i[r]=ol(u),i[r].c(),U(i[r],1),i[r].m(e,null))}for(Ve(),r=s.length;r<i.length;r+=1)n(r);Je()}},i(a){if(!l){for(let f=0;f<s.length;f+=1)U(i[f]);l=!0}},o(a){i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)H(i[f]);l=!1},d(a){a&&S(e),st(i,a)}}}function Ds(t){let e,l,s,i;return l=new Dl({props:{set:t[0].raw[t[15]],highlight:t[1],jewel:t[3],conqueror:t[4],platform:t[5],league:t[6]}}),{c(){e=P("div"),qe(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{slot:!0,style:!0});var a=D(e);Ue(l.$$.fragment,a),a.forEach(S),this.h()},h(){C(e,"slot","item"),C(e,"style",s=t[14])},m(n,a){j(n,e,a),Be(l,e,null),i=!0},p(n,a){const f={};a&32769&&(f.set=n[0].raw[n[15]]),a&2&&(f.highlight=n[1]),a&8&&(f.jewel=n[3]),a&16&&(f.conqueror=n[4]),a&32&&(f.platform=n[5]),a&64&&(f.league=n[6]),l.$set(f),(!i||a&16384&&s!==(s=n[14]))&&C(e,"style",s)},i(n){i||(U(l.$$.fragment,n),i=!0)},o(n){H(l.$$.fragment,n),i=!1},d(n){n&&S(e),Fe(l)}}}function rl(t){let e,l,s,i;return l=new jl({props:{height:"auto",overscanCount:10,itemCount:t[0].grouped[t[11]].length,itemSize:t[0].grouped[t[11]].map(t[8]),$$slots:{item:[js,({style:n,index:a})=>({14:n,15:a}),({style:n,index:a})=>(n?16384:0)|(a?32768:0)]},$$scope:{ctx:t}}}),{c(){e=P("div"),qe(l.$$.fragment),s=V(),this.h()},l(n){e=z(n,"DIV",{class:!0});var a=D(e);Ue(l.$$.fragment,a),s=J(a),a.forEach(S),this.h()},h(){C(e,"class","flex flex-col overflow-auto min-h-[200px] mb-2")},m(n,a){j(n,e,a),Be(l,e,null),w(e,s),i=!0},p(n,a){const f={};a&1&&(f.itemCount=n[0].grouped[n[11]].length),a&1&&(f.itemSize=n[0].grouped[n[11]].map(n[8])),a&114811&&(f.$$scope={dirty:a,ctx:n}),l.$set(f)},i(n){i||(U(l.$$.fragment,n),i=!0)},o(n){H(l.$$.fragment,n),i=!1},d(n){n&&S(e),Fe(l)}}}function js(t){let e,l,s,i;return l=new Dl({props:{set:t[0].grouped[t[11]][t[15]],highlight:t[1],jewel:t[3],conqueror:t[4],platform:t[5],league:t[6]}}),{c(){e=P("div"),qe(l.$$.fragment),this.h()},l(n){e=z(n,"DIV",{slot:!0,style:!0});var a=D(e);Ue(l.$$.fragment,a),a.forEach(S),this.h()},h(){C(e,"slot","item"),C(e,"style",s=t[14])},m(n,a){j(n,e,a),Be(l,e,null),i=!0},p(n,a){const f={};a&32769&&(f.set=n[0].grouped[n[11]][n[15]]),a&2&&(f.highlight=n[1]),a&8&&(f.jewel=n[3]),a&16&&(f.conqueror=n[4]),a&32&&(f.platform=n[5]),a&64&&(f.league=n[6]),l.$set(f),(!i||a&16384&&s!==(s=n[14]))&&C(e,"style",s)},i(n){i||(U(l.$$.fragment,n),i=!0)},o(n){H(l.$$.fragment,n),i=!1},d(n){n&&S(e),Fe(l)}}}function ol(t){let e,l,s=t[11]+"",i,n,a=t[11]>1?"es":"",f,r,u=t[0].grouped[t[11]].length+"",d,m,_,g,o=t[7]===t[11]?"^":"V",c,h,p,b,T,E;function k(){return t[10](t[11])}let A=t[7]===t[11]&&rl(t);return{c(){e=P("button"),l=P("span"),i=X(s),n=X(" Match"),f=X(a),r=X(" ["),d=X(u),m=X("]"),_=V(),g=P("span"),c=X(o),h=V(),A&&A.c(),p=we(),this.h()},l(M){e=z(M,"BUTTON",{class:!0});var L=D(e);l=z(L,"SPAN",{});var O=D(l);i=G(O,s),n=G(O," Match"),f=G(O,a),r=G(O," ["),d=G(O,u),m=G(O,"]"),O.forEach(S),_=J(L),g=z(L,"SPAN",{});var q=D(g);c=G(q,o),q.forEach(S),L.forEach(S),h=J(M),A&&A.l(M),p=we(),this.h()},h(){C(e,"class","text-lg w-full p-2 px-4 bg-neutral-500/30 rounded flex flex-row justify-between mb-2")},m(M,L){j(M,e,L),w(e,l),w(l,i),w(l,n),w(l,f),w(l,r),w(l,d),w(l,m),w(e,_),w(e,g),w(g,c),j(M,h,L),A&&A.m(M,L),j(M,p,L),b=!0,T||(E=R(e,"click",k),T=!0)},p(M,L){t=M,(!b||L&1)&&s!==(s=t[11]+"")&&Re(i,s),(!b||L&1)&&a!==(a=t[11]>1?"es":"")&&Re(f,a),(!b||L&1)&&u!==(u=t[0].grouped[t[11]].length+"")&&Re(d,u),(!b||L&129)&&o!==(o=t[7]===t[11]?"^":"V")&&Re(c,o),t[7]===t[11]?A?(A.p(t,L),L&129&&U(A,1)):(A=rl(t),A.c(),U(A,1),A.m(p.parentNode,p)):A&&(Ve(),H(A,1,1,()=>{A=null}),Je())},i(M){b||(U(A),b=!0)},o(M){H(A),b=!1},d(M){M&&(S(e),S(h),S(p)),A&&A.d(M),T=!1,E()}}}function Vs(t){let e,l,s,i;const n=[Os,Ns],a=[];function f(r,u){return r[2]?0:1}return e=f(t),l=a[e]=n[e](t),{c(){l.c(),s=we()},l(r){l.l(r),s=we()},m(r,u){a[e].m(r,u),j(r,s,u),i=!0},p(r,[u]){let d=e;e=f(r),e===d?a[e].p(r,u):(Ve(),H(a[d],1,1,()=>{a[d]=null}),Je(),l=a[e],l?l.p(r,u):(l=a[e]=n[e](r),l.c()),U(l,1),l.m(s.parentNode,s))},i(r){i||(U(l),i=!0)},o(r){H(l),i=!1},d(r){r&&S(s),a[e].d(r)}}}const ul=(t,e)=>t-e;function Js(t,e,l){let{searchResults:s}=e,{highlight:i}=e,{groupResults:n=!0}=e,{jewel:a}=e,{conqueror:f}=e,{platform:r}=e,{league:u}=e;const d=o=>8+48+o.skills.reduce((c,h)=>c+32+Object.keys(h.stats).length*24,0);let m="";const _=o=>parseInt(o),g=o=>l(7,m=m===o?"":o);return t.$$set=o=>{"searchResults"in o&&l(0,s=o.searchResults),"highlight"in o&&l(1,i=o.highlight),"groupResults"in o&&l(2,n=o.groupResults),"jewel"in o&&l(3,a=o.jewel),"conqueror"in o&&l(4,f=o.conqueror),"platform"in o&&l(5,r=o.platform),"league"in o&&l(6,u=o.league)},[s,i,n,a,f,r,u,m,d,_,g]}class qs extends it{constructor(e){super(),at(this,e,Js,Vs,nt,{searchResults:0,highlight:1,groupResults:2,jewel:3,conqueror:4,platform:5,league:6})}}const tt={25:1,26:1,42:1,49:1,56:1,63:1,70:2,95:4,117:1,124:4,134:1,150:2,216:1,434:1,482:1,483:1,484:1,488:1,554:1,556:1,593:3,594:3,595:3,619:1,943:1,944:1,945:1,946:1,2133:4,3108:3,3109:4,3110:4,3111:4,5815:4,8835:1,9091:1,9772:1,14775:2,209:1,447:1,573:2,1294:1,1361:1,2031:5,8177:2,448:2,486:1,579:2,1404:1,2030:5,9090:1,9711:2,9712:2,9713:2,9714:2,9716:1,9717:1,9718:1,9721:1,9722:1,9723:1,9724:1,186:2,490:1,1251:3,1654:1,3392:1,6042:1,6048:1,6049:1,6050:1,6136:1,7499:2};const{window:Us}=Ml;function fl(t,e,l){const s=t.slice();return s[87]=e[l],s[88]=e,s[89]=l,s}function cl(t,e,l){const s=t.slice();return s[80]=e[l],s}function hl(t,e,l){const s=t.slice();return s[80]=e[l],s}function dl(t,e,l){const s=t.slice();return s[80]=e[l],s}function Bs(t){let e,l="<div></div> <div></div> <div></div>",s,i;return{c(){e=P("button"),e.innerHTML=l,this.h()},l(n){e=z(n,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-rq6e1l"&&(e.innerHTML=l),this.h()},h(){C(e,"class","burger-menu absolute top-0 left-0 bg-black/80 backdrop-blur-sm rounded-br-lg p-4 pt-5")},m(n,a){j(n,e,a),s||(i=R(e,"click",t[73]),s=!0)},p:Qe,i:Qe,o:Qe,d(n){n&&S(e),s=!1,i()}}}function Fs(t){let e,l,s,i,n,a="<div></div> <div></div> <div></div>",f,r,u,d,m,_,g,o;function c(k,A){return k[16]?Ks:Hs}let h=c(t),p=h(t),b=t[20]&&ml(t),T=!t[16]&&gl(t),E=t[20]&&t[16]&&Cl(t);return{c(){e=P("div"),l=P("div"),s=P("div"),i=P("div"),n=P("button"),n.innerHTML=a,f=V(),r=P("h3"),p.c(),u=V(),b&&b.c(),d=V(),T&&T.c(),m=V(),E&&E.c(),this.h()},l(k){e=z(k,"DIV",{class:!0});var A=D(e);l=z(A,"DIV",{class:!0});var M=D(l);s=z(M,"DIV",{class:!0});var L=D(s);i=z(L,"DIV",{class:!0});var O=D(i);n=z(O,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(n)!=="svelte-mvbl10"&&(n.innerHTML=a),f=J(O),r=z(O,"H3",{class:!0});var q=D(r);p.l(q),q.forEach(S),O.forEach(S),u=J(L),b&&b.l(L),L.forEach(S),d=J(M),T&&T.l(M),m=J(M),E&&E.l(M),M.forEach(S),A.forEach(S),this.h()},h(){C(n,"class","burger-menu mr-3"),C(r,"class","flex-grow"),C(i,"class","flex flex-row items-center"),C(s,"class","flex flex-row justify-between mb-2"),C(l,"class","p-4 max-h-screen flex flex-col"),C(e,"class","w-screen md:w-10/12 lg:w-2/3 xl:w-1/2 2xl:w-5/12 3xl:w-1/3 4xl:w-1/4 min-w-[820px] absolute top-0 left-0 bg-black/80 backdrop-blur-sm themed rounded-br-lg max-h-screen")},m(k,A){j(k,e,A),w(e,l),w(l,s),w(s,i),w(i,n),w(i,f),w(i,r),p.m(r,null),w(s,u),b&&b.m(s,null),w(l,d),T&&T.m(l,null),w(l,m),E&&E.m(l,null),_=!0,g||(o=R(n,"click",t[50]),g=!0)},p(k,A){h!==(h=c(k))&&(p.d(1),p=h(k),p&&(p.c(),p.m(r,null))),k[20]?b?(b.p(k,A),A[0]&1048576&&U(b,1)):(b=ml(k),b.c(),U(b,1),b.m(s,null)):b&&(Ve(),H(b,1,1,()=>{b=null}),Je()),k[16]?T&&(Ve(),H(T,1,1,()=>{T=null}),Je()):T?(T.p(k,A),A[0]&65536&&U(T,1)):(T=gl(k),T.c(),U(T,1),T.m(l,m)),k[20]&&k[16]?E?(E.p(k,A),A[0]&1114112&&U(E,1)):(E=Cl(k),E.c(),U(E,1),E.m(l,null)):E&&(Ve(),H(E,1,1,()=>{E=null}),Je())},i(k){_||(U(b),U(T),U(E),_=!0)},o(k){H(b),H(T),H(E),_=!1},d(k){k&&S(e),p.d(),b&&b.d(),T&&T.d(),E&&E.d(),g=!1,o()}}}function Hs(t){let e,l="Timeless Jewel";return{c(){e=P("span"),e.textContent=l},l(s){e=z(s,"SPAN",{"data-svelte-h":!0}),ge(e)!=="svelte-ddxked"&&(e.textContent=l)},m(s,i){j(s,e,i)},d(s){s&&S(e)}}}function Ks(t){let e,l="Results";return{c(){e=P("span"),e.textContent=l},l(s){e=z(s,"SPAN",{"data-svelte-h":!0}),ge(e)!=="svelte-rq68qg"&&(e.textContent=l)},m(s,i){j(s,e,i)},d(s){s&&S(e)}}}function ml(t){let e,l,s,i=t[16]?"Config":"Results",n,a,f,r,u=t[16]&&_l(t);return{c(){e=P("div"),u&&u.c(),l=V(),s=P("button"),n=X(i),this.h()},l(d){e=z(d,"DIV",{class:!0});var m=D(e);u&&u.l(m),l=J(m),s=z(m,"BUTTON",{class:!0});var _=D(s);n=G(_,i),_.forEach(S),m.forEach(S),this.h()},h(){C(s,"class","bg-neutral-100/20 px-4 p-1 rounded"),C(e,"class","flex flex-row gap-2")},m(d,m){j(d,e,m),u&&u.m(e,null),w(e,l),w(e,s),w(s,n),a=!0,f||(r=R(s,"click",t[55]),f=!0)},p(d,m){d[16]?u?(u.p(d,m),m[0]&65536&&U(u,1)):(u=_l(d),u.c(),U(u,1),u.m(e,l)):u&&(Ve(),H(u,1,1,()=>{u=null}),Je()),(!a||m[0]&65536)&&i!==(i=d[16]?"Config":"Results")&&Re(n,i)},i(d){a||(U(u),a=!0)},o(d){H(u),a=!1},d(d){d&&S(e),u&&u.d(),f=!1,r()}}}function _l(t){let e,l,s,i,n,a,f,r,u,d,m,_,g,o,c,h;function p(k){t[51](k)}let b={items:t[25],clearable:!1};t[10]!==void 0&&(b.value=t[10]),e=new ft({props:b}),Ze.push(()=>It(e,"value",p)),e.$on("change",t[30]);function T(k){t[52](k)}let E={items:t[46],clearable:!1};return t[9]!==void 0&&(E.value=t[9]),i=new ft({props:E}),Ze.push(()=>It(i,"value",T)),i.$on("change",t[30]),{c(){qe(e.$$.fragment),s=V(),qe(i.$$.fragment),a=V(),f=P("button"),r=X("Trade"),d=V(),m=P("button"),_=X("Grouped"),this.h()},l(k){Ue(e.$$.fragment,k),s=J(k),Ue(i.$$.fragment,k),a=J(k),f=z(k,"BUTTON",{class:!0});var A=D(f);r=G(A,"Trade"),A.forEach(S),d=J(k),m=z(k,"BUTTON",{class:!0});var M=D(m);_=G(M,"Grouped"),M.forEach(S),this.h()},h(){C(f,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40"),f.disabled=u=!t[20],C(m,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 svelte-9h6fz6"),m.disabled=g=!t[20],_e(m,"grouped",t[5])},m(k,A){Be(e,k,A),j(k,s,A),Be(i,k,A),j(k,a,A),j(k,f,A),w(f,r),j(k,d,A),j(k,m,A),w(m,_),o=!0,c||(h=[R(f,"click",t[53]),R(m,"click",t[54])],c=!0)},p(k,A){const M={};A[0]&33554432&&(M.items=k[25]),!l&&A[0]&1024&&(l=!0,M.value=k[10],kt(()=>l=!1)),e.$set(M);const L={};!n&&A[0]&512&&(n=!0,L.value=k[9],kt(()=>n=!1)),i.$set(L),(!o||A[0]&1048576&&u!==(u=!k[20]))&&(f.disabled=u),(!o||A[0]&1048576&&g!==(g=!k[20]))&&(m.disabled=g),(!o||A[0]&32)&&_e(m,"grouped",k[5])},i(k){o||(U(e.$$.fragment,k),U(i.$$.fragment,k),o=!0)},o(k){H(e.$$.fragment,k),H(i.$$.fragment,k),o=!1},d(k){k&&(S(s),S(a),S(f),S(d),S(m)),Fe(e,k),Fe(i,k),c=!1,xe(h)}}}function gl(t){let e,l,s,i,n;function a(u){t[56](u)}let f={items:t[29]};t[0]!==void 0&&(f.value=t[0]),e=new ft({props:f}),Ze.push(()=>It(e,"value",a)),e.$on("change",t[35]);let r=t[0]&&pl(t);return{c(){qe(e.$$.fragment),s=V(),r&&r.c(),i=we()},l(u){Ue(e.$$.fragment,u),s=J(u),r&&r.l(u),i=we()},m(u,d){Be(e,u,d),j(u,s,d),r&&r.m(u,d),j(u,i,d),n=!0},p(u,d){const m={};!l&&d[0]&1&&(l=!0,m.value=u[0],kt(()=>l=!1)),e.$set(m),u[0]?r?(r.p(u,d),d[0]&1&&U(r,1)):(r=pl(u),r.c(),U(r,1),r.m(i.parentNode,i)):r&&(Ve(),H(r,1,1,()=>{r=null}),Je())},i(u){n||(U(e.$$.fragment,u),U(r),n=!0)},o(u){H(e.$$.fragment,u),H(r),n=!1},d(u){u&&(S(s),S(i)),Fe(e,u),r&&r.d(u)}}}function pl(t){let e,l,s="Conqueror",i,n,a,f,r=t[11]&&Object.keys(se.TimelessJewelConquerors[t[0].value]).indexOf(t[11].value)>=0,u,d;function m(o){t[57](o)}let _={items:t[28]};t[1]!==void 0&&(_.value=t[1]),n=new ft({props:_}),Ze.push(()=>It(n,"value",m)),n.$on("change",t[30]);let g=r&&vl(t);return{c(){e=P("div"),l=P("h3"),l.textContent=s,i=V(),qe(n.$$.fragment),f=V(),g&&g.c(),u=we(),this.h()},l(o){e=z(o,"DIV",{class:!0});var c=D(e);l=z(c,"H3",{class:!0,"data-svelte-h":!0}),ge(l)!=="svelte-1jyt00f"&&(l.textContent=s),i=J(c),Ue(n.$$.fragment,c),c.forEach(S),f=J(o),g&&g.l(o),u=we(),this.h()},h(){C(l,"class","mb-2"),C(e,"class","mt-4")},m(o,c){j(o,e,c),w(e,l),w(e,i),Be(n,e,null),j(o,f,c),g&&g.m(o,c),j(o,u,c),d=!0},p(o,c){const h={};c[0]&268435456&&(h.items=o[28]),!a&&c[0]&2&&(a=!0,h.value=o[1],kt(()=>a=!1)),n.$set(h),c[0]&2049&&(r=o[11]&&Object.keys(se.TimelessJewelConquerors[o[0].value]).indexOf(o[11].value)>=0),r?g?(g.p(o,c),c[0]&2049&&U(g,1)):(g=vl(o),g.c(),U(g,1),g.m(u.parentNode,u)):g&&(Ve(),H(g,1,1,()=>{g=null}),Je())},i(o){d||(U(n.$$.fragment,o),U(g),d=!0)},o(o){H(n.$$.fragment,o),H(g),d=!1},d(o){o&&(S(e),S(f),S(u)),Fe(n),g&&g.d(o)}}}function vl(t){let e,l,s="Enter Seed",i,n,a="Select Stats",f,r,u,d,m,_,g,o;const c=[Xs,Ys],h=[];function p(T,E){return T[13]==="seed"?0:T[13]==="stats"?1:-1}~(r=p(t))&&(u=h[r]=c[r](t));let b=!t[3]&&Tl();return{c(){e=P("div"),l=P("button"),l.textContent=s,i=V(),n=P("button"),n.textContent=a,f=V(),u&&u.c(),d=V(),b&&b.c(),m=we(),this.h()},l(T){e=z(T,"DIV",{class:!0});var E=D(e);l=z(E,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(l)!=="svelte-l4qe05"&&(l.textContent=s),i=J(E),n=z(E,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(n)!=="svelte-1d9agkx"&&(n.textContent=a),E.forEach(S),f=J(T),u&&u.l(T),d=J(T),b&&b.l(T),m=we(),this.h()},h(){C(l,"class","selection-button svelte-9h6fz6"),_e(l,"selected",t[13]==="seed"),C(n,"class","selection-button svelte-9h6fz6"),_e(n,"selected",t[13]==="stats"),C(e,"class","mt-4 w-full flex flex-row")},m(T,E){j(T,e,E),w(e,l),w(e,i),w(e,n),j(T,f,E),~r&&h[r].m(T,E),j(T,d,E),b&&b.m(T,E),j(T,m,E),_=!0,g||(o=[R(l,"click",t[58]),R(n,"click",t[59])],g=!0)},p(T,E){(!_||E[0]&8192)&&_e(l,"selected",T[13]==="seed"),(!_||E[0]&8192)&&_e(n,"selected",T[13]==="stats");let k=r;r=p(T),r===k?~r&&h[r].p(T,E):(u&&(Ve(),H(h[k],1,1,()=>{h[k]=null}),Je()),~r?(u=h[r],u?u.p(T,E):(u=h[r]=c[r](T),u.c()),U(u,1),u.m(d.parentNode,d)):u=null),T[3]?b&&(b.d(1),b=null):b||(b=Tl(),b.c(),b.m(m.parentNode,m))},i(T){_||(U(u),_=!0)},o(T){H(u),_=!1},d(T){T&&(S(e),S(f),S(d),S(m)),~r&&h[r].d(T),b&&b.d(T),g=!1,xe(o)}}}function Ys(t){let e,l,s="Add Stat",i,n,a,f=Object.keys(t[4]).length>0,r,u,d={items:t[26]};n=new ft({props:d}),t[67](n),n.$on("change",t[33]);let m=f&&bl(t);return{c(){e=P("div"),l=P("h3"),l.textContent=s,i=V(),qe(n.$$.fragment),a=V(),m&&m.c(),r=we(),this.h()},l(_){e=z(_,"DIV",{class:!0});var g=D(e);l=z(g,"H3",{class:!0,"data-svelte-h":!0}),ge(l)!=="svelte-8jbl9c"&&(l.textContent=s),i=J(g),Ue(n.$$.fragment,g),g.forEach(S),a=J(_),m&&m.l(_),r=we(),this.h()},h(){C(l,"class","mb-2"),C(e,"class","mt-4")},m(_,g){j(_,e,g),w(e,l),w(e,i),Be(n,e,null),j(_,a,g),m&&m.m(_,g),j(_,r,g),u=!0},p(_,g){const o={};g[0]&67108864&&(o.items=_[26]),n.$set(o),g[0]&16&&(f=Object.keys(_[4]).length>0),f?m?m.p(_,g):(m=bl(_),m.c(),m.m(r.parentNode,r)):m&&(m.d(1),m=null)},i(_){u||(U(n.$$.fragment,_),u=!0)},o(_){H(n.$$.fragment,_),u=!1},d(_){_&&(S(e),S(a),S(r)),t[67](null),Fe(n),m&&m.d(_)}}}function Xs(t){let e,l,s="Seed",i,n,a,f,r,u,d,m,_,g,o=(t[2]<se.TimelessJewelSeedRanges[t[0].value].Min||t[2]>se.TimelessJewelSeedRanges[t[0].value].Max)&&Sl(t),c=t[2]>=se.TimelessJewelSeedRanges[t[0].value].Min&&t[2]<=se.TimelessJewelSeedRanges[t[0].value].Max&&kl(t);return{c(){e=P("div"),l=P("h3"),l.textContent=s,i=V(),n=P("input"),r=V(),o&&o.c(),u=V(),c&&c.c(),d=we(),this.h()},l(h){e=z(h,"DIV",{class:!0});var p=D(e);l=z(p,"H3",{class:!0,"data-svelte-h":!0}),ge(l)!=="svelte-12wsj4m"&&(l.textContent=s),i=J(p),n=z(p,"INPUT",{type:!0,min:!0,max:!0}),r=J(p),o&&o.l(p),p.forEach(S),u=J(h),c&&c.l(h),d=we(),this.h()},h(){C(l,"class","mb-2"),C(n,"type","number"),C(n,"min",a=se.TimelessJewelSeedRanges[t[0].value].Min),C(n,"max",f=se.TimelessJewelSeedRanges[t[0].value].Max),C(e,"class","mt-4")},m(h,p){j(h,e,p),w(e,l),w(e,i),w(e,n),et(n,t[2]),w(e,r),o&&o.m(e,null),j(h,u,p),c&&c.m(h,p),j(h,d,p),m=!0,_||(g=[R(n,"input",t[60]),R(n,"blur",t[30])],_=!0)},p(h,p){(!m||p[0]&1&&a!==(a=se.TimelessJewelSeedRanges[h[0].value].Min))&&C(n,"min",a),(!m||p[0]&1&&f!==(f=se.TimelessJewelSeedRanges[h[0].value].Max))&&C(n,"max",f),p[0]&4&&$e(n.value)!==h[2]&&et(n,h[2]),h[2]<se.TimelessJewelSeedRanges[h[0].value].Min||h[2]>se.TimelessJewelSeedRanges[h[0].value].Max?o?o.p(h,p):(o=Sl(h),o.c(),o.m(e,null)):o&&(o.d(1),o=null),h[2]>=se.TimelessJewelSeedRanges[h[0].value].Min&&h[2]<=se.TimelessJewelSeedRanges[h[0].value].Max?c?(c.p(h,p),p[0]&5&&U(c,1)):(c=kl(h),c.c(),U(c,1),c.m(d.parentNode,d)):c&&(Ve(),H(c,1,1,()=>{c=null}),Je())},i(h){m||(U(c),m=!0)},o(h){H(c),m=!1},d(h){h&&(S(e),S(u),S(d)),o&&o.d(),c&&c.d(h),_=!1,xe(g)}}}function bl(t){let e,l,s,i,n,a="Min Total Weight:",f,r,u,d,m,_,g,o,c,h,p,b,T,E,k,A,M,L,O,q,F,ee,W,de,Ce,he=Le(Object.keys(t[4])),Z=[];for(let B=0;B<he.length;B+=1)Z[B]=wl(fl(t,he,B));function Se(B,te){return B[18]?Ws:Gs}let Ne=Se(t),be=Ne(t);return{c(){e=P("div");for(let B=0;B<Z.length;B+=1)Z[B].c();l=V(),s=P("div"),i=P("div"),n=P("div"),n.textContent=a,f=V(),r=P("input"),u=V(),d=P("div"),m=P("div"),_=P("button"),g=X("Select All"),c=V(),h=P("button"),p=X("Notables"),T=V(),E=P("button"),k=X("Passives"),M=V(),L=P("button"),O=X("Deselect"),F=V(),ee=P("div"),W=P("button"),be.c(),this.h()},l(B){e=z(B,"DIV",{class:!0});var te=D(e);for(let Pe=0;Pe<Z.length;Pe+=1)Z[Pe].l(te);te.forEach(S),l=J(B),s=z(B,"DIV",{class:!0});var ie=D(s);i=z(ie,"DIV",{class:!0});var N=D(i);n=z(N,"DIV",{class:!0,"data-svelte-h":!0}),ge(n)!=="svelte-ydmsqj"&&(n.textContent=a),f=J(N),r=z(N,"INPUT",{type:!0,min:!0}),N.forEach(S),ie.forEach(S),u=J(B),d=z(B,"DIV",{class:!0});var v=D(d);m=z(v,"DIV",{class:!0});var x=D(m);_=z(x,"BUTTON",{class:!0});var ae=D(_);g=G(ae,"Select All"),ae.forEach(S),c=J(x),h=z(x,"BUTTON",{class:!0});var le=D(h);p=G(le,"Notables"),le.forEach(S),T=J(x),E=z(x,"BUTTON",{class:!0});var me=D(E);k=G(me,"Passives"),me.forEach(S),M=J(x),L=z(x,"BUTTON",{class:!0});var ne=D(L);O=G(ne,"Deselect"),ne.forEach(S),x.forEach(S),F=J(v),ee=z(v,"DIV",{class:!0});var ke=D(ee);W=z(ke,"BUTTON",{class:!0});var pe=D(W);be.l(pe),pe.forEach(S),ke.forEach(S),v.forEach(S),this.h()},h(){C(e,"class","mt-4 flex flex-col overflow-auto min-h-[100px]"),C(n,"class","mr-2 min-w-fit"),C(r,"type","number"),C(r,"min","0"),C(i,"class","flex flex-row items-center"),C(s,"class","flex flex-col mt-2"),C(_,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),_.disabled=o=t[18]||t[14].size==0,C(h,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),h.disabled=b=t[18]||t[14].size==0,C(E,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),E.disabled=A=t[18]||t[14].size==0,C(L,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 flex-grow"),L.disabled=q=t[18]||t[14].size>=t[12].length,C(m,"class","flex flex-row"),C(W,"class","p-2 px-3 bg-green-500/40 rounded disabled:bg-green-900/40 flex-grow"),W.disabled=t[18],C(ee,"class","flex flex-row mt-2"),C(d,"class","flex flex-col mt-4")},m(B,te){j(B,e,te);for(let ie=0;ie<Z.length;ie+=1)Z[ie]&&Z[ie].m(e,null);j(B,l,te),j(B,s,te),w(s,i),w(i,n),w(i,f),w(i,r),et(r,t[17]),j(B,u,te),j(B,d,te),w(d,m),w(m,_),w(_,g),w(m,c),w(m,h),w(h,p),w(m,T),w(m,E),w(E,k),w(m,M),w(m,L),w(L,O),w(d,F),w(d,ee),w(ee,W),be.m(W,null),de||(Ce=[R(r,"input",t[71]),R(_,"click",t[38]),R(h,"click",t[39]),R(E,"click",t[40]),R(L,"click",t[41]),R(W,"click",t[72])],de=!0)},p(B,te){if(te[0]&16|te[1]&8){he=Le(Object.keys(B[4]));let ie;for(ie=0;ie<he.length;ie+=1){const N=fl(B,he,ie);Z[ie]?Z[ie].p(N,te):(Z[ie]=wl(N),Z[ie].c(),Z[ie].m(e,null))}for(;ie<Z.length;ie+=1)Z[ie].d(1);Z.length=he.length}te[0]&131072&&$e(r.value)!==B[17]&&et(r,B[17]),te[0]&278528&&o!==(o=B[18]||B[14].size==0)&&(_.disabled=o),te[0]&278528&&b!==(b=B[18]||B[14].size==0)&&(h.disabled=b),te[0]&278528&&A!==(A=B[18]||B[14].size==0)&&(E.disabled=A),te[0]&282624&&q!==(q=B[18]||B[14].size>=B[12].length)&&(L.disabled=q),Ne===(Ne=Se(B))&&be?be.p(B,te):(be.d(1),be=Ne(B),be&&(be.c(),be.m(W,null))),te[0]&262144&&(W.disabled=B[18])},d(B){B&&(S(e),S(l),S(s),S(u),S(d)),st(Z,B),be.d(),de=!1,xe(Ce)}}}function wl(t){let e,l,s,i="-",n,a,f=ct(t[4][t[87]].id)+"",r,u,d,m,_,g="Min:",o,c,h,p,b,T="Weight:",E,k,A,M,L;function O(){return t[68](t[87])}function q(){t[69].call(c,t[87])}function F(){t[70].call(k,t[87])}return{c(){e=P("div"),l=P("div"),s=P("button"),s.textContent=i,n=V(),a=P("span"),r=X(f),u=V(),d=P("div"),m=P("div"),_=P("div"),_.textContent=g,o=V(),c=P("input"),h=V(),p=P("div"),b=P("div"),b.textContent=T,E=V(),k=P("input"),A=V(),this.h()},l(ee){e=z(ee,"DIV",{class:!0});var W=D(e);l=z(W,"DIV",{});var de=D(l);s=z(de,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(s)!=="svelte-bzfob2"&&(s.textContent=i),n=J(de),a=z(de,"SPAN",{});var Ce=D(a);r=G(Ce,f),Ce.forEach(S),de.forEach(S),u=J(W),d=z(W,"DIV",{class:!0});var he=D(d);m=z(he,"DIV",{class:!0});var Z=D(m);_=z(Z,"DIV",{class:!0,"data-svelte-h":!0}),ge(_)!=="svelte-1m3cjix"&&(_.textContent=g),o=J(Z),c=z(Z,"INPUT",{type:!0,min:!0}),Z.forEach(S),h=J(he),p=z(he,"DIV",{class:!0});var Se=D(p);b=z(Se,"DIV",{class:!0,"data-svelte-h":!0}),ge(b)!=="svelte-nrzr8j"&&(b.textContent=T),E=J(Se),k=z(Se,"INPUT",{type:!0,min:!0}),Se.forEach(S),he.forEach(S),A=J(W),W.forEach(S),this.h()},h(){C(s,"class","p-2 px-4 bg-red-500/40 rounded mr-2"),C(_,"class","mr-2"),C(c,"type","number"),C(c,"min","0"),C(m,"class","mr-4 flex flex-row items-center"),C(b,"class","mr-2"),C(k,"type","number"),C(k,"min","0"),C(p,"class","flex flex-row items-center"),C(d,"class","mt-2 flex flex-row"),C(e,"class","mb-4 flex flex-row items-start flex-col border-neutral-100/40 border-b pb-4")},m(ee,W){j(ee,e,W),w(e,l),w(l,s),w(l,n),w(l,a),w(a,r),w(e,u),w(e,d),w(d,m),w(m,_),w(m,o),w(m,c),et(c,t[4][t[87]].min),w(d,h),w(d,p),w(p,b),w(p,E),w(p,k),et(k,t[4][t[87]].weight),w(e,A),M||(L=[R(s,"click",O),R(c,"input",q),R(k,"input",F)],M=!0)},p(ee,W){t=ee,W[0]&16&&f!==(f=ct(t[4][t[87]].id)+"")&&Re(r,f),W[0]&16&&$e(c.value)!==t[4][t[87]].min&&et(c,t[4][t[87]].min),W[0]&16&&$e(k.value)!==t[4][t[87]].weight&&et(k,t[4][t[87]].weight)},d(ee){ee&&S(e),M=!1,xe(L)}}}function Gs(t){let e;return{c(){e=X("Search")},l(l){e=G(l,"Search")},m(l,s){j(l,e,s)},p:Qe,d(l){l&&S(e)}}}function Ws(t){let e,l,s=se.TimelessJewelSeedRanges[t[0].value].Max+"",i;return{c(){e=X(t[19]),l=X(" / "),i=X(s)},l(n){e=G(n,t[19]),l=G(n," / "),i=G(n,s)},m(n,a){j(n,e,a),j(n,l,a),j(n,i,a)},p(n,a){a[0]&524288&&Re(e,n[19]),a[0]&1&&s!==(s=se.TimelessJewelSeedRanges[n[0].value].Max+"")&&Re(i,s)},d(n){n&&(S(e),S(l),S(i))}}}function Sl(t){let e,l,s=se.TimelessJewelSeedRanges[t[0].value].Min+"",i,n,a=se.TimelessJewelSeedRanges[t[0].value].Max+"",f;return{c(){e=P("div"),l=X("Seed must be between "),i=X(s),n=X(`
                      and `),f=X(a),this.h()},l(r){e=z(r,"DIV",{class:!0});var u=D(e);l=G(u,"Seed must be between "),i=G(u,s),n=G(u,`
                      and `),f=G(u,a),u.forEach(S),this.h()},h(){C(e,"class","mt-2")},m(r,u){j(r,e,u),w(e,l),w(e,i),w(e,n),w(e,f)},p(r,u){u[0]&1&&s!==(s=se.TimelessJewelSeedRanges[r[0].value].Min+"")&&Re(i,s),u[0]&1&&a!==(a=se.TimelessJewelSeedRanges[r[0].value].Max+"")&&Re(f,a)},d(r){r&&S(e)}}}function kl(t){let e,l,s,i="Sort Order",n,a,f,r,u,d,m="Colors",_,g,o,c="Split",h,p,b,T,E;function k(q){t[61](q)}let A={items:t[44]};t[6]!==void 0&&(A.value=t[6]),a=new ft({props:A}),Ze.push(()=>It(a,"value",k));function M(q,F){return q[8]?Qs:Zs}let L=M(t),O=L(t);return{c(){e=P("div"),l=P("div"),s=P("h3"),s.textContent=i,n=V(),qe(a.$$.fragment),r=V(),u=P("div"),d=P("button"),d.textContent=m,_=V(),g=P("div"),o=P("button"),o.textContent=c,h=V(),O.c(),p=we(),this.h()},l(q){e=z(q,"DIV",{class:!0});var F=D(e);l=z(F,"DIV",{class:!0});var ee=D(l);s=z(ee,"H3",{class:!0,"data-svelte-h":!0}),ge(s)!=="svelte-6mxxgp"&&(s.textContent=i),n=J(ee),Ue(a.$$.fragment,ee),ee.forEach(S),r=J(F),u=z(F,"DIV",{class:!0});var W=D(u);d=z(W,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(d)!=="svelte-79cf57"&&(d.textContent=m),W.forEach(S),_=J(F),g=z(F,"DIV",{class:!0});var de=D(g);o=z(de,"BUTTON",{class:!0,"data-svelte-h":!0}),ge(o)!=="svelte-1jp80zt"&&(o.textContent=c),de.forEach(S),F.forEach(S),h=J(q),O.l(q),p=we(),this.h()},h(){C(s,"class","mb-2"),C(l,"class","flex-grow"),C(d,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-9h6fz6"),_e(d,"selected",t[7]),C(u,"class","ml-2"),C(o,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-9h6fz6"),_e(o,"selected",t[8]),C(g,"class","ml-2"),C(e,"class","flex flex-row mt-4 items-end")},m(q,F){j(q,e,F),w(e,l),w(l,s),w(l,n),Be(a,l,null),w(e,r),w(e,u),w(u,d),w(e,_),w(e,g),w(g,o),j(q,h,F),O.m(q,F),j(q,p,F),b=!0,T||(E=[R(d,"click",t[62]),R(o,"click",t[63])],T=!0)},p(q,F){const ee={};!f&&F[0]&64&&(f=!0,ee.value=q[6],kt(()=>f=!1)),a.$set(ee),(!b||F[0]&128)&&_e(d,"selected",q[7]),(!b||F[0]&256)&&_e(o,"selected",q[8]),L===(L=M(q))&&O?O.p(q,F):(O.d(1),O=L(q),O&&(O.c(),O.m(p.parentNode,p)))},i(q){b||(U(a.$$.fragment,q),b=!0)},o(q){H(a.$$.fragment,q),b=!1},d(q){q&&(S(e),S(h),S(p)),Fe(a),O.d(q),T=!1,xe(E)}}}function Qs(t){let e,l,s="Notables",i,n,a,f,r="Smalls",u,d,m=Le(t[43](t[42](t[27],t[7],"notables"),t[6].value)),_=[];for(let c=0;c<m.length;c+=1)_[c]=Il(hl(t,m,c));let g=Le(t[43](t[42](t[27],t[7],"passives"),t[6].value)),o=[];for(let c=0;c<g.length;c+=1)o[c]=yl(cl(t,g,c));return{c(){e=P("div"),l=P("h3"),l.textContent=s,i=V(),n=P("ul");for(let c=0;c<_.length;c+=1)_[c].c();a=V(),f=P("h3"),f.textContent=r,u=V(),d=P("ul");for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=z(c,"DIV",{class:!0});var h=D(e);l=z(h,"H3",{"data-svelte-h":!0}),ge(l)!=="svelte-uhg2bi"&&(l.textContent=s),i=J(h),n=z(h,"UL",{class:!0});var p=D(n);for(let T=0;T<_.length;T+=1)_[T].l(p);p.forEach(S),a=J(h),f=z(h,"H3",{class:!0,"data-svelte-h":!0}),ge(f)!=="svelte-mdvksr"&&(f.textContent=r),u=J(h),d=z(h,"UL",{class:!0});var b=D(d);for(let T=0;T<o.length;T+=1)o[T].l(b);b.forEach(S),h.forEach(S),this.h()},h(){C(n,"class","mt-1 svelte-9h6fz6"),_e(n,"rainbow",t[7]),C(f,"class","mt-2"),C(d,"class","mt-1 svelte-9h6fz6"),_e(d,"rainbow",t[7]),C(e,"class","overflow-auto mt-4")},m(c,h){j(c,e,h),w(e,l),w(e,i),w(e,n);for(let p=0;p<_.length;p+=1)_[p]&&_[p].m(n,null);w(e,a),w(e,f),w(e,u),w(e,d);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(d,null)},p(c,h){if(h[0]&134217924|h[1]&6208){m=Le(c[43](c[42](c[27],c[7],"notables"),c[6].value));let p;for(p=0;p<m.length;p+=1){const b=hl(c,m,p);_[p]?_[p].p(b,h):(_[p]=Il(b),_[p].c(),_[p].m(n,null))}for(;p<_.length;p+=1)_[p].d(1);_.length=m.length}if(h[0]&128&&_e(n,"rainbow",c[7]),h[0]&134217924|h[1]&6208){g=Le(c[43](c[42](c[27],c[7],"passives"),c[6].value));let p;for(p=0;p<g.length;p+=1){const b=cl(c,g,p);o[p]?o[p].p(b,h):(o[p]=yl(b),o[p].c(),o[p].m(d,null))}for(;p<o.length;p+=1)o[p].d(1);o.length=g.length}h[0]&128&&_e(d,"rainbow",c[7])},d(c){c&&S(e),st(_,c),st(o,c)}}}function Zs(t){let e,l=Le(t[43](t[42](t[27],t[7],"all"),t[6].value)),s=[];for(let i=0;i<l.length;i+=1)s[i]=El(dl(t,l,i));return{c(){e=P("ul");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=z(i,"UL",{class:!0});var n=D(e);for(let a=0;a<s.length;a+=1)s[a].l(n);n.forEach(S),this.h()},h(){C(e,"class","mt-4 overflow-auto svelte-9h6fz6"),_e(e,"rainbow",t[7])},m(i,n){j(i,e,n);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(e,null)},p(i,n){if(n[0]&134217924|n[1]&6208){l=Le(i[43](i[42](i[27],i[7],"all"),i[6].value));let a;for(a=0;a<l.length;a+=1){const f=dl(i,l,a);s[a]?s[a].p(f,n):(s[a]=El(f),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=l.length}n[0]&128&&_e(e,"rainbow",i[7])},d(i){i&&S(e),st(s,i)}}}function Il(t){let e,l,s,i=t[80].passives.length+"",n,a,f,r,u,d=t[80].stat+"",m,_,g;function o(){return t[65](t[80])}return{c(){e=P("li"),l=P("span"),s=X("("),n=X(i),a=X(")"),f=V(),r=P("span"),u=new jt(!1),m=V(),this.h()},l(c){e=z(c,"LI",{class:!0});var h=D(e);l=z(h,"SPAN",{class:!0});var p=D(l);s=G(p,"("),n=G(p,i),a=G(p,")"),p.forEach(S),f=J(h),r=z(h,"SPAN",{class:!0});var b=D(r);u=Vt(b,!1),b.forEach(S),m=J(h),h.forEach(S),this.h()},h(){C(l,"class","font-bold"),_e(l,"text-white",(tt[t[80].id]||0)<3),u.a=null,C(r,"class","text-white"),C(e,"class","cursor-pointer")},m(c,h){j(c,e,h),w(e,l),w(l,s),w(l,n),w(l,a),w(e,f),w(e,r),u.m(d,r),w(e,m),_||(g=R(e,"click",o),_=!0)},p(c,h){t=c,h[0]&134217920&&i!==(i=t[80].passives.length+"")&&Re(n,i),h[0]&134217920|h[1]&6144&&_e(l,"text-white",(tt[t[80].id]||0)<3),h[0]&134217920&&d!==(d=t[80].stat+"")&&u.p(d)},d(c){c&&S(e),_=!1,g()}}}function yl(t){let e,l,s,i=t[80].passives.length+"",n,a,f,r,u,d=t[80].stat+"",m,_,g;function o(){return t[66](t[80])}return{c(){e=P("li"),l=P("span"),s=X("("),n=X(i),a=X(")"),f=V(),r=P("span"),u=new jt(!1),m=V(),this.h()},l(c){e=z(c,"LI",{class:!0});var h=D(e);l=z(h,"SPAN",{class:!0});var p=D(l);s=G(p,"("),n=G(p,i),a=G(p,")"),p.forEach(S),f=J(h),r=z(h,"SPAN",{class:!0});var b=D(r);u=Vt(b,!1),b.forEach(S),m=J(h),h.forEach(S),this.h()},h(){C(l,"class","font-bold"),_e(l,"text-white",(tt[t[80].id]||0)<3),u.a=null,C(r,"class","text-white"),C(e,"class","cursor-pointer")},m(c,h){j(c,e,h),w(e,l),w(l,s),w(l,n),w(l,a),w(e,f),w(e,r),u.m(d,r),w(e,m),_||(g=R(e,"click",o),_=!0)},p(c,h){t=c,h[0]&134217920&&i!==(i=t[80].passives.length+"")&&Re(n,i),h[0]&134217920|h[1]&6144&&_e(l,"text-white",(tt[t[80].id]||0)<3),h[0]&134217920&&d!==(d=t[80].stat+"")&&u.p(d)},d(c){c&&S(e),_=!1,g()}}}function El(t){let e,l,s,i=t[80].passives.length+"",n,a,f,r,u,d=t[80].stat+"",m,_,g;function o(){return t[64](t[80])}return{c(){e=P("li"),l=P("span"),s=X("("),n=X(i),a=X(")"),f=V(),r=P("span"),u=new jt(!1),m=V(),this.h()},l(c){e=z(c,"LI",{class:!0});var h=D(e);l=z(h,"SPAN",{class:!0});var p=D(l);s=G(p,"("),n=G(p,i),a=G(p,")"),p.forEach(S),f=J(h),r=z(h,"SPAN",{class:!0});var b=D(r);u=Vt(b,!1),b.forEach(S),m=J(h),h.forEach(S),this.h()},h(){C(l,"class","font-bold"),_e(l,"text-white",(tt[t[80].id]||0)<3),u.a=null,C(r,"class","text-white"),C(e,"class","cursor-pointer")},m(c,h){j(c,e,h),w(e,l),w(l,s),w(l,n),w(l,a),w(e,f),w(e,r),u.m(d,r),w(e,m),_||(g=R(e,"click",o),_=!0)},p(c,h){t=c,h[0]&134217920&&i!==(i=t[80].passives.length+"")&&Re(n,i),h[0]&134217920|h[1]&6144&&_e(l,"text-white",(tt[t[80].id]||0)<3),h[0]&134217920&&d!==(d=t[80].stat+"")&&u.p(d)},d(c){c&&S(e),_=!1,g()}}}function Tl(t){let e,l="Click on a jewel socket";return{c(){e=P("h2"),e.textContent=l,this.h()},l(s){e=z(s,"H2",{class:!0,"data-svelte-h":!0}),ge(e)!=="svelte-4ztcob"&&(e.textContent=l),this.h()},h(){C(e,"class","mt-4")},m(s,i){j(s,e,i)},d(s){s&&S(e)}}}function Cl(t){let e,l;return e=new qs({props:{searchResults:t[20],groupResults:t[5],highlight:t[37],jewel:t[21],conqueror:t[22],platform:t[9].value,league:t[10].value}}),{c(){qe(e.$$.fragment)},l(s){Ue(e.$$.fragment,s)},m(s,i){Be(e,s,i),l=!0},p(s,i){const n={};i[0]&1048576&&(n.searchResults=s[20]),i[0]&32&&(n.groupResults=s[5]),i[0]&2097152&&(n.jewel=s[21]),i[0]&4194304&&(n.conqueror=s[22]),i[0]&512&&(n.platform=s[9].value),i[0]&1024&&(n.league=s[10].value),e.$set(n)},i(s){l||(U(e.$$.fragment,s),l=!0)},o(s){H(e.$$.fragment,s),l=!1},d(s){Fe(e,s)}}}function xs(t){let e,l,s,i,n='<a href="https://github.com/zavulon-ao/timeless-jewels" target="_blank" rel="noopener">Source (Github)</a>',a;const f=[Fs,Bs],r=[];function u(d,m){return d[24]?1:0}return e=u(t),l=r[e]=f[e](t),{c(){l.c(),s=V(),i=P("div"),i.innerHTML=n,this.h()},l(d){l.l(d),s=J(d),i=z(d,"DIV",{class:!0,"data-svelte-h":!0}),ge(i)!=="svelte-1grhj5o"&&(i.innerHTML=n),this.h()},h(){C(i,"class","text-orange-500 absolute bottom-0 right-0 m-2")},m(d,m){r[e].m(d,m),j(d,s,m),j(d,i,m),a=!0},p(d,m){let _=e;e=u(d),e===_?r[e].p(d,m):(Ve(),H(r[_],1,1,()=>{r[_]=null}),Je(),l=r[e],l?l.p(d,m):(l=r[e]=f[e](d),l.c()),U(l,1),l.m(s.parentNode,s))},i(d){a||(U(l),a=!0)},o(d){H(l),a=!1},d(d){d&&(S(s),S(i)),r[e].d(d)}}}function $s(t){var n,a;let e,l,s,i;return e=new Is({props:{clickNode:t[32],circledNode:t[3],selectedJewel:(n=t[0])==null?void 0:n.value,selectedConqueror:(a=t[11])==null?void 0:a.value,highlighted:t[23],seed:t[2],highlightJewels:!t[3],disabled:[...t[14]],$$slots:{default:[xs]},$$scope:{ctx:t}}}),{c(){qe(e.$$.fragment)},l(f){Ue(e.$$.fragment,f)},m(f,r){Be(e,f,r),l=!0,s||(i=R(Us,"paste",t[45]),s=!0)},p(f,r){var d,m;const u={};r[0]&8&&(u.circledNode=f[3]),r[0]&1&&(u.selectedJewel=(d=f[0])==null?void 0:d.value),r[0]&2048&&(u.selectedConqueror=(m=f[11])==null?void 0:m.value),r[0]&8388608&&(u.highlighted=f[23]),r[0]&4&&(u.seed=f[2]),r[0]&8&&(u.highlightJewels=!f[3]),r[0]&16384&&(u.disabled=[...f[14]]),r[0]&528482303|r[2]&268435456&&(u.$$scope={dirty:r,ctx:f}),e.$set(u)},i(f){l||(U(e.$$.fragment,f),l=!0)},o(f){H(e.$$.fragment,f),l=!1},d(f){Fe(e,f),s=!1,i()}}}function en(t,e,l){let s,i,n,a,f,r,u,d,m;Rl(t,ss,y=>l(75,m=y));const _=m.url.searchParams,g=Object.keys(se.TimelessJewels).map(y=>({value:parseInt(y),label:se.TimelessJewels[y]}));let o=_.has("jewel")?g.find(y=>y.value==_.get("jewel")):void 0,c=_.has("conqueror")?{value:_.get("conqueror"),label:_.get("conqueror")}:void 0,h=_.has("seed")?parseInt(_.get("seed")):0,p=_.has("location")?parseInt(_.get("location")):void 0,b={};_.has("stat")&&_.getAll("stat").forEach(y=>{const Q=parseInt(y);l(4,b[Q]={weight:1,min:0,id:Q},b)});let T=_.has("mode")?_.get("mode"):"",E=new Set;const k=()=>{const y=new URL(window.location.origin+window.location.pathname);o&&y.searchParams.append("jewel",o.value.toString()),c&&y.searchParams.append("conqueror",c.value),h&&y.searchParams.append("seed",h.toString()),p&&y.searchParams.append("location",p.toString()),T&&y.searchParams.append("mode",T),E.forEach(Q=>y.searchParams.append("disabled",Q.toString())),Object.keys(b).forEach(Q=>{y.searchParams.append("stat",Q.toString())}),Wl(y.toString())},A=y=>{l(13,T=y),k()};_.has("disabled")&&_.getAll("disabled").forEach(y=>{E.add(parseInt(y))});const M=y=>{y.isJewelSocket?(l(3,p=y.skill),k()):y.isMastery||(E.has(y.skill)?E.delete(y.skill):E.add(y.skill),l(14,E),k())},L=JSON.parse(se.PossibleStats);let O;const q=y=>{l(4,b[y.detail.value]={weight:1,min:0,id:y.detail.value},b),l(4,b),O.handleClear(),k()},F=y=>{delete b[y],l(4,b),k()},ee=()=>{l(4,b={}),k()};let W=!1,de=0,Ce=!1,he=0,Z,Se=1,Ne=null;const be=()=>{if(!p)return;l(21,Se=o.value),l(22,Ne=n?null:a.value),l(18,Ce=!0),l(20,Z=void 0);const y={jewel:o.value,conqueror:a.value,nodes:f.filter(Q=>!E.has(Q.skill)).map(Q=>se.TreeToPassive[Q.skill]).filter(Q=>!!Q).map(Q=>Q.Index),stats:Object.keys(b).map(Q=>b[Q]),minTotalWeight:de};ts.search(y,ls(Q=>l(19,he=Q))).then(Q=>{l(20,Z=Q),l(18,Ce=!1),l(16,W=!0)})};let B=[];const te=(y,Q)=>{l(2,h=y),l(23,B=Q),k()},ie=()=>{E.clear(),l(14,E)},N=()=>{f.forEach(y=>{y.isNotable&&E.delete(y.skill)}),l(14,E)},v=()=>{f.forEach(y=>{y.isNotable||E.delete(y.skill)}),l(14,E)},x=()=>{f.filter(y=>!y.isJewelSocket&&!y.isMastery).forEach(y=>E.add(y.skill)),l(14,E)};let ae=localStorage.getItem("groupResults")===null?!0:localStorage.getItem("groupResults")==="true";const le={physical:"#c79d93",cast:"#b3f8fe",fire:"#ff9a77",cold:"#93d8ff",lightning:"#f8cb76",attack:"#da814d",life:"#c96e6e",chaos:"#d8a7d3",unique:"#af6025",critical:"#b2a7d6"},me=y=>(Object.keys(le).forEach(Q=>{const ce=le[Q];y=y.replace(new RegExp(`(${Q}(?:$|\\s))|((?:^|\\s)${Q})`,"gi"),`<span style='color: ${ce}; font-weight: bold'>$1$2</span>`)}),y),ne=(y,Q,ce)=>{const ye={};return y.forEach(ve=>{Xe.nodes[ve.node].isKeystone||ce!=="all"&&(ce==="notables"&&!Xe.nodes[ve.node].isNotable||ce==="passives"&&Xe.nodes[ve.node].isNotable)||(ve.result.AlternatePassiveSkill&&ve.result.AlternatePassiveSkill.StatsKeys&&ve.result.AlternatePassiveSkill.StatsKeys.forEach(Ae=>{ye[Ae]=[...ye[Ae]||[],ve.node]}),ve.result.AlternatePassiveAdditionInformations&&ve.result.AlternatePassiveAdditionInformations.forEach(Ae=>{Ae.AlternatePassiveAddition.StatsKeys&&Ae.AlternatePassiveAddition.StatsKeys.forEach(Ge=>{ye[Ge]=[...ye[Ge]||[],ve.node]})}))}),Object.keys(ye).map(ve=>{const Ae=ct(parseInt(ve));return{stat:Q?me(Ae):Ae,rawStat:Ae,id:ve,passives:ye[ve]}})},ke=(y,Q)=>{switch(Q){case"alphabet":return y.sort((ce,ye)=>ce.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase().localeCompare(ye.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase()));case"count":return y.sort((ce,ye)=>ye.passives.length-ce.passives.length);case"rarity":return y.sort((ce,ye)=>L[o.value][ce.id]-L[o.value][ye.id]);case"value":return y.sort((ce,ye)=>{const ve=tt[ce.id]||0,Ae=tt[ye.id]||0;return ve!=Ae?Ae-ve:L[o.value][ce.id]-L[o.value][ye.id]})}return y},pe=[{label:"Count",value:"count"},{label:"Alphabetical",value:"alphabet"},{label:"Rarity",value:"rarity"},{label:"Value",value:"value"}];let Pe=pe.find(y=>y.value===(localStorage.getItem("sortOrder")||"count")),ue=localStorage.getItem("colored")===null?!0:localStorage.getItem("colored")==="true",K=localStorage.getItem("split")===null?!0:localStorage.getItem("split")==="true";const $=y=>{if(y.type!=="paste")return;const ce=(y.clipboardData||window.clipboardData).getData("text").split(`
`);if(ce.length<14)return;const ye=g.find(Ge=>Ge.label===ce[2]);if(!ye)return;let ve,Ae;for(let Ge=10;Ge<ce.length;Ge++)if(Ae=Object.keys(se.TimelessJewelConquerors[ye.value]).find(yt=>ce[Ge].indexOf(yt)>=0),Ae){const yt=/(\d+)/.exec(ce[Ge]);if(yt.length===0)continue;ve=parseInt(yt[1]);break}!Ae||!ve||(l(16,W=!1),l(13,T="seed"),l(2,h=ve),l(0,o=ye),l(11,a={label:Ae,value:Ae}),k())};let re=!1;const oe=[{value:"PC",label:"PC"},{value:"Xbox",label:"Xbox"},{value:"Playstation",label:"Playstation"}];let Oe=oe.find(y=>y.value===localStorage.getItem("platform"))||oe[0],Me=[],De;const fe=async()=>{const Q=await(await fetch("https://api.poe.watch/leagues")).json();l(25,Me=Q.map(ce=>({value:ce.name,label:ce.name}))),l(10,De=Me.find(ce=>ce.value===localStorage.getItem("league"))||Me[0])};Ot(()=>{fe()});const Ie=()=>l(24,re=!0);function Ke(y){De=y,l(10,De)}function He(y){Oe=y,l(9,Oe)}const ze=()=>Pl(Se,Ne,Z.raw,Oe.value,De.value),je=()=>l(5,ae=!ae),rt=()=>l(16,W=!W);function ht(y){o=y,l(0,o)}function dt(y){c=y,l(1,c)}const ot=()=>A("seed"),ut=()=>A("stats");function At(){h=$e(this.value),l(2,h)}function I(y){Pe=y,l(6,Pe)}const mt=()=>l(7,ue=!ue),_t=()=>l(8,K=!K),gt=y=>te(h,y.passives),Rt=y=>te(h,y.passives),Pt=y=>te(h,y.passives);function zt(y){Ze[y?"unshift":"push"](()=>{O=y,l(15,O)})}const Mt=y=>F(b[y].id);function Vl(y){b[y].min=$e(this.value),l(4,b)}function Jl(y){b[y].weight=$e(this.value),l(4,b)}function ql(){de=$e(this.value),l(17,de)}const Ul=()=>be(),Bl=()=>l(24,re=!1);return t.$$.update=()=>{t.$$.dirty[0]&1&&l(49,s=o?Object.keys(se.TimelessJewelConquerors[o.value]).map(y=>({value:y,label:y})):[]),t.$$.dirty[1]&262144&&l(28,i=s.concat([{value:"Any",label:"Any"}])),t.$$.dirty[0]&2&&(n=(c==null?void 0:c.value)==="Any"),t.$$.dirty[0]&2|t.$$.dirty[1]&262144&&l(11,a=(c==null?void 0:c.value)==="Any"?s[0]:c),t.$$.dirty[0]&8&&l(12,f=p?es(Xe.nodes[p]).filter(y=>!y.isJewelSocket&&!y.isMastery):[]),t.$$.dirty[0]&6149&&l(27,r=!h||!o||!a||Object.keys(se.TimelessJewelConquerors[o.value]).indexOf(a.value)<0?[]:f.filter(y=>!!se.TreeToPassive[y.skill]).map(y=>({node:y.skill,result:zl.Calculate(se.TreeToPassive[y.skill].Index,h,o.value,a.value)}))),t.$$.dirty[0]&1&&l(48,u=o?Object.keys(L[o.value]):[]),t.$$.dirty[0]&16|t.$$.dirty[1]&131072&&l(26,d=u.map(y=>{const Q=parseInt(y);return{label:ct(Q),value:Q}}).filter(y=>!(y.value in b))),t.$$.dirty[0]&32&&localStorage.setItem("groupResults",ae?"true":"false"),t.$$.dirty[0]&64&&localStorage.setItem("sortOrder",Pe.value),t.$$.dirty[0]&128&&localStorage.setItem("colored",ue?"true":"false"),t.$$.dirty[0]&256&&localStorage.setItem("split",K?"true":"false"),t.$$.dirty[0]&512&&localStorage.setItem("platform",Oe.value),t.$$.dirty[0]&1024&&De&&localStorage.setItem("league",De.value)},[o,c,h,p,b,ae,Pe,ue,K,Oe,De,a,f,T,E,O,W,de,Ce,he,Z,Se,Ne,B,re,Me,d,r,i,g,k,A,M,q,F,ee,be,te,ie,N,v,x,ne,ke,pe,$,oe,le,u,s,Ie,Ke,He,ze,je,rt,ht,dt,ot,ut,At,I,mt,_t,gt,Rt,Pt,zt,Mt,Vl,Jl,ql,Ul,Bl]}class fn extends it{constructor(e){super(),at(this,e,en,$s,nt,{colorKeys:47},null,[-1,-1,-1])}get colorKeys(){return this.$$.ctx[47]}}export{fn as component};
